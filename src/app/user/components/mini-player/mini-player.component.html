<ng-container *ngIf="videoService.isMiniplayerOpen | async">
  <div
    class="mini-player w-96 rounded-t-2xl bg-slate-700 p-3"
    *ngIf="video | async as videoDetails"
  >
    <div class="player aspect-video">
      <iframe
        #player
        class="h-full w-full rounded-t-xl"
        [src]="
          sanitizer.bypassSecurityTrustResourceUrl(
            'https://www.youtube-nocookie.com/embed/' + videoDetails.id
          )
        "
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
    </div>
    <div class="mt-3 flex w-full justify-between gap-2">
      <h3 class="basis-80 break-words font-medium text-white">
        {{ videoDetails.snippet.title }}
      </h3>
      <a
        title="Go to video"
        href="/video/{{ videoDetails.id }}"
        class="inline-block text-2xl text-slate-400 hover:text-white"
        ><i class="bx bx-link-external"></i
      ></a>
      <button
        (click)="closeMiniplayer()"
        title="Close miniplayer"
        class="m-0 inline-block h-full border-none p-0 text-3xl text-slate-400 outline-none hover:text-white"
      >
        <i class="bx bx-chevron-down"></i>
      </button>
    </div>
  </div>
</ng-container>
