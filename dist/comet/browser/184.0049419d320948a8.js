"use strict";(self.webpackChunkcomet=self.webpackChunkcomet||[]).push([[184],{2184:(Yt,ee,a)=>{a.r(ee),a.d(ee,{UserModule:()=>A});var u=a(6895),p=a(6158),y=a(5041),e=a(8256),h=a(529),f=a(2340),g=a(4263);class w{constructor(t){this.http=t,this.channelId=""}getChannel(t){const n=(new h.LE).append("part","snippet,statistics").append("id",t);return this.http.get(`${f.N.YTbaseUrl}/channels`,{headers:(0,g.v)(),params:n})}getChannelVideos(t){this.channelId=t;const n=(new h.LE).append("part","snippet,id").append("channelId",this.channelId).append("order","date").append("maxResults","50").append("type","video");return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}getMoreVideos(t){const n=(new h.LE).append("part","snippet,id").append("channelId",this.channelId).append("order","date").append("maxResults","50").append("pageToken",t).append("type","video");return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}getChannelPlaylists(t){const n=(new h.LE).append("part","snippet,id").append("channelId",t).append("order","date").append("maxResults","50").append("type","playlist");return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}}w.\u0275fac=function(t){return new(t||w)(e.LFG(h.eN))},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"});var xe=a(9646),te=a(8421),j=a(9751),ne=a(5577),ye=a(1144),T=a(576),we=a(3268);const be=["addListener","removeListener"],Te=["addEventListener","removeEventListener"],Ce=["on","off"];function K(i,t,n,o){if((0,T.m)(n)&&(o=n,n=void 0),o)return K(i,t,n).pipe((0,we.Z)(o));const[s,r]=function _e(i){return(0,T.m)(i.addEventListener)&&(0,T.m)(i.removeEventListener)}(i)?Te.map(l=>d=>i[l](t,d,n)):function Se(i){return(0,T.m)(i.addListener)&&(0,T.m)(i.removeListener)}(i)?be.map(ie(i,t)):function Ie(i){return(0,T.m)(i.on)&&(0,T.m)(i.off)}(i)?Ce.map(ie(i,t)):[];if(!s&&(0,ye.z)(i))return(0,ne.z)(l=>K(l,t,n))((0,te.Xf)(i));if(!s)throw new TypeError("Invalid event target");return new j.y(l=>{const d=(...c)=>l.next(1<c.length?c:c[0]);return s(d),()=>r(d)})}function ie(i,t){return n=>o=>i[n](t,o)}var W=a(4004),oe=a(8505),Ze=a(9300),ke=a(727);class Pe extends ke.w0{constructor(t,n){super()}schedule(t,n=0){return this}}const R={setInterval(i,t,...n){const{delegate:o}=R;return o?.setInterval?o.setInterval(i,t,...n):setInterval(i,t,...n)},clearInterval(i){const{delegate:t}=R;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var Ue=a(8737);const se={now:()=>(se.delegate||Date).now(),delegate:void 0};class M{constructor(t,n=M.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,o){return new this.schedulerActionCtor(this,t).schedule(o,n)}}M.now=se.now;const re=new class Ae extends M{constructor(t,n=M.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let o;this._active=!0;do{if(o=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}}}(class Le extends Pe{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var o;if(this.closed)return this;this.state=t;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,n)),this.pending=!0,this.delay=n,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(r,this.id,n),this}requestAsyncId(t,n,o=0){return R.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,n,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return n;null!=n&&R.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(t,n);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let s,o=!1;try{this.work(t)}catch(r){o=!0,s=r||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:o}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ue.P)(o,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),Me=re;var Je=a(4482),le=a(5403);const ae={leading:!0,trailing:!1};var Ye=a(3532);function Oe(i,t=re,n=ae){const o=function Ve(i=0,t,n=Me){let o=-1;return null!=t&&((0,Ye.K)(t)?n=t:o=t),new j.y(s=>{let r=function Ne(i){return i instanceof Date&&!isNaN(i)}(i)?+i-n.now():i;r<0&&(r=0);let l=0;return n.schedule(function(){s.closed||(s.next(l++),0<=o?this.schedule(void 0,o):s.complete())},r)})}(i,t);return function De(i,t=ae){return(0,Je.e)((n,o)=>{const{leading:s,trailing:r}=t;let l=!1,d=null,c=null,m=!1;const C=()=>{c?.unsubscribe(),c=null,r&&(ve(),m&&o.complete())},G=()=>{c=null,m&&o.complete()},ge=S=>c=(0,te.Xf)(i(S)).subscribe((0,le.x)(o,C,G)),ve=()=>{if(l){l=!1;const S=d;d=null,o.next(S),!m&&ge(S)}};n.subscribe((0,le.x)(o,S=>{l=!0,d=S,(!c||c.closed)&&(s?ve():ge(S))},()=>{m=!0,(!(r&&l&&c)||c.closed)&&o.complete()}))})}(()=>o,n)}function He(i,t,n,o){const s=window&&!!window.document&&window.document.documentElement;let r=s&&t?window:n;if(i&&(r=i&&s&&"string"==typeof i?function Qe(i,t,n){return(n?window.document:t).querySelector(i)}(i,n.nativeElement,o):i,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function $(i){return i&&!i.firstChange}const Fe={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},qe={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Re{constructor(t=!0){this.vertical=t,this.propsMap=t?Fe:qe}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function We(i){return["Window","global"].some(n=>Object.prototype.toString.call(i).includes(n))}function B(i,t){return i?t.document.documentElement:null}function ce(i,t){const n=function Xe({container:i,isWindow:t,axis:n}){const{offsetHeightKey:o,clientHeightKey:s}=pe(n);return de(i,t,o,s)}(t);return t.isWindow?function $e(i,t,n){const{axis:o,container:s,isWindow:r}=n,{offsetHeightKey:l,clientHeightKey:d}=pe(o),c=i+he(B(r,s),o,r),m=de(t.nativeElement,r,l,d),C=function Ge(i,t,n){const o=t.topKey();if(i.getBoundingClientRect)return i.getBoundingClientRect()[o]+he(i,t,n)}(t.nativeElement,o,r)+m;return{height:i,scrolled:c,totalToScroll:C,isWindow:r}}(n,i,t):function Be(i,t,n){const{axis:o,container:s}=n;return{height:i,scrolled:s[o.scrollTopKey()],totalToScroll:s[o.scrollHeightKey()],isWindow:!1}}(n,0,t)}function pe(i){return{offsetHeightKey:i.offsetHeightKey(),clientHeightKey:i.clientHeightKey()}}function de(i,t,n,o){if(isNaN(i[n])){const s=B(t,i);return s?s[o]:0}return i[n]}function he(i,t,n){const o=t.pageYOffsetKey(),s=t.scrollTopKey(),r=t.offsetTopKey();return isNaN(window.pageYOffset)?B(n,i)[s]:i.ownerDocument?i.ownerDocument.defaultView[o]:i[r]}function et(i,t={down:0,up:0},n){let o,s;if(i.totalToScroll<=0)return!1;const r=i.isWindow?i.scrolled:i.height+i.scrolled;return n?(o=(i.totalToScroll-r)/i.totalToScroll,s=(t?.down?t.down:0)/10):(o=i.scrolled/(i.scrolled+(i.totalToScroll-r)),s=(t?.up?t.up:0)/10),o<=s}class st{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)}updateTriggeredFlag(t,n){n?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,n){return n?this.triggered.down===t:this.triggered.up===t}}function rt(i){const{scrollContainer:t,scrollWindow:n,element:o,fromRoot:s}=i,r=function je({windowElement:i,axis:t}){return function Ke(i,t){const n=i.isWindow||t&&!t.nativeElement?t:t.nativeElement;return{...i,container:n}}({axis:t,isWindow:We(i)},i)}({axis:new Re(!i.horizontal),windowElement:He(t,n,o,s)}),l=new st({totalToScroll:ce(o,r)}),c={up:i.upDistance,down:i.downDistance};return function lt(i){let t=K(i.container,"scroll");return i.throttle&&(t=t.pipe(Oe(i.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:r.container,throttle:i.throttle}).pipe((0,ne.z)(()=>(0,xe.of)(ce(o,r))),(0,W.U)(m=>function at(i,t,n){const{scrollDown:o,fire:s}=function nt(i,t,n){const o=function tt(i,t){return i<t.scrolled}(i,t);return{fire:et(t,n,o),scrollDown:o}}(i,t,n);return{scrollDown:o,fire:s,stats:t}}(l.lastScrollPosition,m,c)),(0,oe.b)(({stats:m})=>l.updateScroll(m.scrolled,m.totalToScroll)),(0,Ze.h)(({fire:m,scrollDown:C,stats:{totalToScroll:G}})=>function ze(i,t,n){return!!(i&&t||!n&&t)}(i.alwaysCallback,m,l.isTriggeredScroll(G,C))),(0,oe.b)(({scrollDown:m,stats:{totalToScroll:C}})=>{l.updateTriggeredFlag(C,m)}),(0,W.U)(ct))}function ct(i){const{scrollDown:t,stats:{scrolled:n}}=i;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:n}}}let pt=(()=>{class i{constructor(n,o){this.element=n,this.zone=o,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:n,infiniteScrollDisabled:o,infiniteScrollDistance:s}){const r=$(n),l=$(o),d=$(s),c=!l&&!this.infiniteScrollDisabled||l&&!o.currentValue||d;(r||l||d)&&(this.destroyScroller(),c&&this.setup())}setup(){(function Ee(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=rt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(n=>this.handleOnScroll(n))})}handleOnScroll({type:n,payload:o}){const s="[NGX_ISE] DOWN"===n?this.scrolled:this.scrolledUp;(function dt(i){return i.observed??i.observers.length>0})(s)&&this.zone.run(()=>s.emit(o))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275dir=e.lG2({type:i,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),i})(),ht=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var ue=a(1135);class b{constructor(t){this.http=t,this.isMiniplayerOpen=new ue.X(!1),this.miniplayerVideoId=new ue.X("")}initializeMiniplayer(t){this.isMiniplayerOpen.getValue()?this.miniplayerVideoId.next(t):(this.miniplayerVideoId.next(t),this.isMiniplayerOpen.next(!0))}getVideo(t){const n=(new h.LE).append("part","snippet,statistics").append("id",t);return this.http.get(`${f.N.YTbaseUrl}/videos`,{headers:(0,g.v)(),params:n})}}b.\u0275fac=function(t){return new(t||b)(e.LFG(h.eN))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});class J{constructor(t){this.videoService=t}ngOnInit(){}openInMiniplayer(){this.videoService.initializeMiniplayer(this.video.id.videoId||this.video.snippet.resourceId.videoId)}}J.\u0275fac=function(t){return new(t||J)(e.Y36(b))},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-video-card"]],inputs:{video:"video"},decls:19,vars:14,consts:[[1,"relative","isolate","flex","h-72","min-w-[290px]","max-w-[320px]","flex-col","rounded-xl","bg-slate-800","[&:hover>.miniplayer-toggler]:grid","p-3","transition-shadow","hover:shadow-lg"],["title","Open in miniplayer mode",1,"miniplayer-toggler","absolute","top-0","right-0","text-2xl","p-2","w-15","grid","md:hidden","place-items-center","h-15","text-white","bg-slate-800","rounded-full","z-10",3,"click"],[1,"bx","bx-link-external","align-middle"],[1,"group","relative","h-[168px]","max-h-[168px]","min-w-[290px]","max-w-[320px]","flex-1","overflow-hidden","rounded-lg"],[1,"absolute","inset-0","grid","place-items-center","rounded-lg","bg-black/60","text-6xl","text-white","opacity-0","transition-opacity","duration-200","group-hover:opacity-100",3,"routerLink"],[1,"bx","bx-play"],["loading","lazy","fetchpriority","low",1,"rounded-lg","object-cover",3,"src","width","height","alt"],[1,"mt-2"],[1,"flex","items-start","px-2"],[1,"text-base","font-medium","tracking-normal","text-slate-300","line-clamp-2",3,"title"],[3,"routerLink","innerHTML"],[1,"mt-1","flex","items-center","text-xs","font-medium","tracking-wide","text-slate-400","line-clamp-1","hover:text-slate-300",3,"title"],[3,"routerLink"],[1,"bx","bxs-check-circle","text-sm"],[1,"mt-1","text-xs","font-medium","tracking-wide","text-slate-400"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openInMiniplayer()}),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"a",4),e._UZ(5,"i",5),e.qZA(),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div")(10,"p",9),e._UZ(11,"a",10),e.qZA(),e.TgZ(12,"p",11)(13,"a",12),e._uU(14),e._UZ(15,"i",13),e.qZA()(),e.TgZ(16,"p",14),e._uU(17),e.ALo(18,"date"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink","/video/"+(n.video.id.videoId||n.video.snippet.resourceId.videoId)),e.xp6(2),e.Q6J("src",n.video.snippet.thumbnails.medium.url||"../../../assets/images/comet.svg",e.LSH)("width",n.video.snippet.thumbnails.medium.width)("height",n.video.snippet.thumbnails.medium.height)("alt",n.video.snippet.title),e.xp6(4),e.Q6J("title",n.video.snippet.title),e.xp6(1),e.Q6J("routerLink","/video/"+n.video.id.videoId)("innerHTML",n.video.snippet.title,e.oJD),e.xp6(1),e.Q6J("title",n.video.snippet.channelTitle),e.xp6(1),e.Q6J("routerLink","/channel/"+n.video.snippet.channelId),e.xp6(1),e.hij("",n.video.snippet.channelTitle," "),e.xp6(3),e.hij(" ",e.lcZ(18,12,n.video.snippet.publishedAt)," "))},dependencies:[p.rH,u.uU]});class D{constructor(){}ngOnInit(){}}D.\u0275fac=function(t){return new(t||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-channel-card"]],inputs:{channel:"channel"},decls:11,vars:6,consts:[[1,"relative","isolate","flex","h-72","min-w-[290px]","max-w-[320px]","flex-col","items-center","rounded-xl","p-3"],[1,"group","relative","mt-3","h-[168px]","max-h-[168px]","min-w-[290px]","max-w-[320px]","flex-1","rounded-lg"],[1,"mx-auto","block","h-40","w-40","rounded-full",3,"routerLink"],["loading","lazy",1,"mx-auto","h-40","w-40","rounded-full",3,"src","alt"],[1,"mt-2"],[1,"flex","items-start","px-2"],[1,"w-full","text-center"],[1,"text-xs","font-medium","uppercase","tracking-widest","text-rose-500"],[1,"text-center","text-2xl","font-medium","tracking-normal","text-slate-300","line-clamp-2",3,"title"],[3,"routerLink","innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e._uU(8," Channel "),e.qZA(),e.TgZ(9,"p",8),e._UZ(10,"a",9),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("routerLink","/channel/"+n.channel.id.channelId),e.xp6(1),e.Q6J("src",n.channel.snippet.thumbnails.medium.url||"../../../assets/images/1215608_72.jpg",e.LSH)("alt",n.channel.snippet.title),e.xp6(6),e.Q6J("title",n.channel.snippet.title),e.xp6(1),e.Q6J("routerLink","/channel/"+n.channel.id.channelId)("innerHTML",n.channel.snippet.title,e.oJD))},dependencies:[p.rH]});class Y{constructor(){}ngOnInit(){}}function ut(i,t){if(1&i&&e._UZ(0,"app-video-card",6),2&i){const n=e.oxw().$implicit;e.Q6J("video",n)}}function mt(i,t){if(1&i&&e._UZ(0,"app-channel-card",7),2&i){const n=e.oxw().$implicit;e.Q6J("channel",n)}}function ft(i,t){if(1&i&&e._UZ(0,"app-playlist-card",8),2&i){const n=e.oxw().$implicit;e.Q6J("playlist",n)}}function gt(i,t){if(1&i&&(e.ynx(0),e.YNc(1,ut,1,1,"app-video-card",3),e.YNc(2,mt,1,1,"app-channel-card",4),e.YNc(3,ft,1,1,"app-playlist-card",5),e.BQk()),2&i){const n=t.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",n.id.videoId||o.isString(n.id)),e.xp6(1),e.Q6J("ngIf",n.id.channelId),e.xp6(1),e.Q6J("ngIf",n.id.playlistId)}}Y.\u0275fac=function(t){return new(t||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-playlist-card"]],inputs:{playlist:"playlist"},decls:19,vars:14,consts:[[1,"relative","isolate","flex","h-72","min-w-[290px]","max-w-[320px]","flex-col","rounded-xl","bg-slate-800","p-3","transition-shadow","hover:shadow-lg"],[1,"group","relative","h-[168px]","max-h-[168px]","min-w-[290px]","max-w-[320px]","flex-1","overflow-hidden","rounded-lg"],[1,"absolute","inset-0","grid","place-items-center","rounded-lg","bg-black/60","text-6xl","text-white","opacity-0","transition-opacity","duration-200","group-hover:opacity-100",3,"routerLink"],[1,"bx","bx-play"],["loading","lazy",1,"rounded-lg","object-cover",3,"src","width","height","alt"],[1,"mt-2"],[1,"flex","items-start","px-2"],[1,"text-xs","font-medium","uppercase","tracking-widest","text-rose-500"],[1,"text-base","font-medium","tracking-normal","text-slate-300","line-clamp-2",3,"title"],[3,"routerLink","innerHTML"],[1,"mt-1","flex","items-center","text-xs","font-medium","tracking-wide","text-slate-400","line-clamp-1","hover:text-slate-300",3,"title"],[3,"routerLink"],[1,"bx","bxs-check-circle","text-sm"],[1,"mt-1","text-xs","font-medium","tracking-wide","text-slate-400"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"i",3),e.qZA(),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"div")(8,"p",7),e._uU(9," Playlist "),e.qZA(),e.TgZ(10,"p",8),e._UZ(11,"a",9),e.qZA(),e.TgZ(12,"p",10)(13,"a",11),e._uU(14),e._UZ(15,"i",12),e.qZA()(),e.TgZ(16,"p",13),e._uU(17),e.ALo(18,"date"),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("routerLink","/playlist/"+n.playlist.id.playlistId),e.xp6(2),e.Q6J("src",n.playlist.snippet.thumbnails.medium.url||"../../../assets/images/comet.svg",e.LSH)("width",n.playlist.snippet.thumbnails.medium.width)("height",n.playlist.snippet.thumbnails.medium.height)("alt",n.playlist.snippet.title),e.xp6(6),e.Q6J("title",n.playlist.snippet.title),e.xp6(1),e.Q6J("routerLink","/playlist/"+n.playlist.id.playlistId)("innerHTML",n.playlist.snippet.title,e.oJD),e.xp6(1),e.Q6J("title",n.playlist.snippet.channelTitle),e.xp6(1),e.Q6J("routerLink","/channel/"+n.playlist.snippet.channelId),e.xp6(1),e.hij("",n.playlist.snippet.channelTitle," "),e.xp6(3),e.hij(" ",e.lcZ(18,12,n.playlist.snippet.publishedAt)," "))},dependencies:[p.rH,u.uU]});const vt=function(i){return{hidden:i}};class v{constructor(){this.content=[],this.fetched=!1,this.scrolled=new e.vpe}ngOnInit(){}isString(t){return"string"==typeof t}onScrolled(){this.scrolled.emit()}}function xt(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"app-content",1),e.NdJ("scrolled",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.fetchMoreVideos())}),e.qZA()}if(2&i){const n=e.oxw();e.Q6J("fetched",n.fetched)("content",n.videos)}}v.\u0275fac=function(t){return new(t||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-content"]],inputs:{content:"content",fetched:"fetched"},outputs:{scrolled:"scrolled"},decls:3,vars:7,consts:[["infiniteScroll","",1,"flex","flex-wrap","justify-center","gap-6","lg:gap-8",3,"infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","scrolled"],[4,"ngFor","ngForOf"],[1,"mx-auto","my-24","h-40","w-40","animate-spin","rounded-full","border-8","border-rose-500","border-t-transparent",3,"ngClass"],[3,"video",4,"ngIf"],[3,"channel",4,"ngIf"],[3,"playlist",4,"ngIf"],[3,"video"],[3,"channel"],[3,"playlist"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("scrolled",function(){return n.onScrolled()}),e.YNc(1,gt,4,3,"ng-container",1),e.qZA(),e._UZ(2,"div",2)),2&t&&(e.Q6J("infiniteScrollDistance",0)("infiniteScrollUpDistance",0)("infiniteScrollThrottle",50),e.xp6(1),e.Q6J("ngForOf",n.content),e.xp6(1),e.Q6J("ngClass",e.VKq(5,vt,n.fetched)))},dependencies:[u.mk,u.sg,u.O5,pt,J,D,Y]});class N{constructor(t,n){this.channelSerive=t,this.activatedRoute=n,this.channelId="",this.fetched=!1,this.nextPageToken=""}ngOnInit(){y.y.isBrowser&&this.activatedRoute.parent?.paramMap.subscribe(t=>{this.channelId=t.get("channelId"),""!==this.channelId&&this.channelSerive.getChannelVideos(this.channelId).subscribe(n=>{this.nextPageToken=n.nextPageToken,this.fetched=!0,this.videos=n.items})})}fetchMoreVideos(){!this.nextPageToken||(this.fetched=!1,this.channelSerive.getMoreVideos(this.nextPageToken).subscribe(t=>{this.nextPageToken=t.nextPageToken?t.nextPageToken:"",this.videos=this.videos.concat(t.items),this.fetched=!0}))}}N.\u0275fac=function(t){return new(t||N)(e.Y36(w),e.Y36(p.gz))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-channel-videos"]],decls:1,vars:1,consts:[[3,"fetched","content","scrolled",4,"ngIf"],[3,"fetched","content","scrolled"]],template:function(t,n){1&t&&e.YNc(0,xt,1,2,"app-content",0),2&t&&e.Q6J("ngIf",n.videos)},dependencies:[u.O5,v]});class x{constructor(){}updateMetaData(t,n,o,s,r){document.title=n,Array.isArray(t)&&t.forEach(l=>{switch(l.name||l.getAttribute("property")){case"title":l.content=n;break;case"description":l.content=o;break;case"og:url":l.content=s;break;case"og:image":l.content=r}console.log(l.content)})}}function yt(i,t){if(1&i&&(e.TgZ(0,"section",4),e._UZ(1,"div",5)(2,"img",6),e.TgZ(3,"div",7)(4,"div"),e._UZ(5,"img",8),e.qZA(),e.TgZ(6,"div",9)(7,"div",10)(8,"div",11)(9,"p",12),e._uU(10," Channel "),e.qZA(),e._UZ(11,"p",13),e.TgZ(12,"p",14),e._uU(13),e.qZA(),e.TgZ(14,"div",15)(15,"span",16),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"span",17),e._uU(19),e.ALo(20,"number"),e.qZA()()()()()()()),2&i){const n=e.oxw();e.xp6(2),e.Q6J("src",(null==n.channel.brandingSettings.image?null:n.channel.brandingSettings.image.bannerExternalUrl)||"../../../assets/images/1215608_72.jpg",e.LSH)("alt",n.channel.snippet.title),e.xp6(3),e.Q6J("src",n.channel.snippet.thumbnails.high.url||"../../../assets/images/1215608_72.jpg",e.LSH)("alt",n.channel.snippet.title),e.xp6(6),e.Q6J("title",n.channel.snippet.title)("innerHTML",n.channel.snippet.title,e.oJD),e.xp6(2),e.hij(" ",n.channel.statistics.videoCount," Videos "),e.xp6(3),e.hij(" ",e.lcZ(17,9,n.channel.statistics.subscriberCount)," Subscribers "),e.xp6(3),e.hij(" ",e.lcZ(20,11,n.channel.statistics.viewCount)," Views ")}}x.\u0275fac=function(t){return new(t||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"});class V{constructor(t,n,o,s,r){this.channelSerive=t,this.activatedRoute=n,this.meta=o,this.router=s,this.renderer=r,this.channelId=""}ngOnInit(){y.y.isBrowser&&this.activatedRoute.paramMap.subscribe(t=>{this.channelId=t.get("channelId"),this.channelId&&this.channelSerive.getChannel(this.channelId).subscribe(n=>{this.channel=n.items[0],this.meta.updateMetaData(this.renderer.selectRootElement("meta"),this.channel.snippet.title,this.channel.snippet.description,`https://comet-multimedia.up.railway.app${this.router.url}`,this.channel.snippet.thumbnails.default.url)})})}}V.\u0275fac=function(t){return new(t||V)(e.Y36(w),e.Y36(p.gz),e.Y36(x),e.Y36(p.F0),e.Y36(e.Qsj))},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-channel-page"]],decls:9,vars:5,consts:[["class","relative isolate mb-60 h-[219px]",4,"ngIf"],[1,"relative","py-4","pt-4","sm:pt-8","sm:pr-8","sm:pl-8"],[1,"text-md","font-md","mb-8","flex","justify-center","space-x-8","font-medium","uppercase","tracking-wider","text-slate-500"],[1,"relative","after:-bottom-2","after:left-1/2","after:h-1","after:w-8","after:-translate-x-1/2","after:rounded","after:bg-red-500",3,"routerLink","routerLinkActive"],[1,"relative","isolate","mb-60","h-[219px]"],[1,"absolute","inset-0","-z-[9]","bg-black/90"],[1,"absolute","-z-10","h-full","w-full","object-cover",3,"src","alt"],[1,"relative","bottom-0","translate-y-1/2"],[1,"mx-auto","h-40","w-40","rounded-full","shadow-md",3,"src","alt"],[1,"mt-2"],[1,"flex","items-start","px-2"],[1,"w-full","text-center"],[1,"text-xs","font-medium","uppercase","tracking-widest","text-rose-500"],[1,"text-center","text-2xl","font-medium","tracking-normal","text-slate-300","line-clamp-2",3,"title","innerHTML"],[1,"text-center","text-sm","font-normal","tracking-normal","text-slate-500"],[1,"mt-4","flex","justify-center","space-x-4","text-center","text-sm","font-medium","tracking-normal","text-slate-400"],[1,"rounded-full","bg-red-500/10","py-1","px-2","text-red-500"],[1,"rounded-full","bg-slate-800","py-1","px-2"]],template:function(t,n){1&t&&(e.YNc(0,yt,21,13,"section",0),e.TgZ(1,"section",1)(2,"div",2)(3,"a",3),e._uU(4,"Uploads"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"Playlists"),e.qZA()(),e.TgZ(7,"div"),e._UZ(8,"router-outlet"),e.qZA()()),2&t&&(e.Q6J("ngIf",void 0!==n.channel),e.xp6(3),e.Q6J("routerLink","uploads")("routerLinkActive","text-slate-400 after:absolute"),e.xp6(2),e.Q6J("routerLink","playlists")("routerLinkActive","text-slate-400 after:absolute"))},dependencies:[u.O5,p.lC,p.rH,p.Od,u.JJ]});class I{constructor(t){this.http=t,this.videoId=""}getVideos(t){this.videoId=t;const n=(new h.LE).append("part","snippet").append("type","video").append("relatedToVideoId",this.videoId).append("maxResults","26");return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}getNextPage(t=""){let n=(new h.LE).append("part","snippet").append("type","video").append("relatedToVideoId",this.videoId).append("maxResults","26").append("pageToken",t);return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}}I.\u0275fac=function(t){return new(t||I)(e.LFG(h.eN))},I.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"});class _{constructor(t){this.http=t}getComments(t){const n=(new h.LE).append("part","snippet").append("videoId",t).append("maxResults","100");return this.http.get(`${f.N.YTbaseUrl}/commentThreads`,{headers:(0,g.v)(),params:n})}}_.\u0275fac=function(t){return new(t||_)(e.LFG(h.eN))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});var me=a(1481),wt=a(8937);const z=function(i){return{hidden:i}};function bt(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"div",21)(1,"div",21),e._UZ(2,"p",22),e.qZA(),e.TgZ(3,"div",23)(4,"div")(5,"p",24)(6,"a",25),e._uU(7),e._UZ(8,"i",26),e.qZA()(),e.TgZ(9,"p",27),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div")(13,"button",28),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.isCommentsPopped=!0)}),e._UZ(14,"i",29),e.qZA()()()()}if(2&i){const n=e.oxw();e.xp6(2),e.Q6J("title",n.video.snippet.title)("innerHTML",n.video.snippet.title,e.oJD),e.xp6(3),e.Q6J("title",n.video.snippet.channelTitle),e.xp6(1),e.Q6J("routerLink","/channel/"+n.video.snippet.channelId),e.xp6(1),e.hij("",n.video.snippet.channelTitle," "),e.xp6(3),e.hij(" ",e.lcZ(11,7,n.video.snippet.publishedAt)," "),e.xp6(3),e.Q6J("ngClass",e.VKq(9,z,n.isCommentsPopped))}}function Tt(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"div",null,39),e._UZ(2,"p",40),e.TgZ(3,"span")(4,"button",41),e.NdJ("click",function(s){const l=e.CHM(n).ngIf,d=e.MAs(1),c=e.oxw(2);return e.KtG(c.translate(s,l,d))}),e._uU(5," Translate "),e.qZA()()()}if(2&i){const n=e.oxw().$implicit;e.xp6(2),e.Q6J("innerHTML",n.snippet.topLevelComment.snippet.textDisplay,e.oJD)}}function Ct(i,t){if(1&i&&(e.TgZ(0,"div",30)(1,"a",31),e._UZ(2,"img",32),e.qZA(),e.TgZ(3,"div",33)(4,"div",34)(5,"p",35)(6,"a",36),e._uU(7),e.qZA()(),e.TgZ(8,"p",37),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.YNc(11,Tt,6,1,"div",38),e.qZA()()),2&i){const n=t.$implicit;e.xp6(1),e.Q6J("href","/channel/"+n.snippet.topLevelComment.snippet.authorChannelId.value,e.LSH)("title",n.snippet.topLevelComment.snippet.authorDisplayName),e.xp6(1),e.Q6J("src",n.snippet.topLevelComment.snippet.authorProfileImageUrl,e.LSH)("alt",n.snippet.topLevelComment.snippet.authorDisplayName),e.xp6(4),e.Q6J("href","/channel/"+n.snippet.topLevelComment.snippet.authorChannelId.value,e.LSH),e.xp6(1),e.Oqu(n.snippet.topLevelComment.snippet.authorDisplayName),e.xp6(2),e.hij(" ",e.lcZ(10,8,n.snippet.topLevelComment.snippet.publishedAt)," "),e.xp6(2),e.Q6J("ngIf",n.snippet.topLevelComment.snippet.textDisplay)}}class O{constructor(t,n,o,s,r,l,d,c,m){this.activatedRoute=t,this.videoService=n,this.recommendationService=o,this.commentsSerive=s,this.sanitizer=r,this.router=l,this.meta=d,this.renderer=c,this.langService=m,this.videoId="",this.videos=[],this.comments=[],this.isCommentsPopped=!1,this.fetched=!1,this.nextPageToken=""}ngOnInit(){y.y.isBrowser&&this.activatedRoute.paramMap.subscribe(t=>{this.videoId=t.get("videoId"),this.videoId&&(this.videoService.getVideo(this.videoId).subscribe(n=>{this.video=n.items[0],this.meta.updateMetaData(this.renderer.selectRootElement("meta"),this.video.snippet.title,this.video.snippet.description,`https://comet-multimedia.up.railway.app${this.router.url}`,this.video.snippet.thumbnails.standard.url)}),this.recommendationService.getVideos(this.videoId).subscribe(n=>{this.fetched=!0,this.nextPageToken=n.nextPageToken,this.videos=n.items}),this.commentsSerive.getComments(this.videoId).subscribe(n=>{this.comments=n.items}))})}fetchNextPage(){!this.nextPageToken||(this.fetched=!1,this.recommendationService.getNextPage(this.nextPageToken).subscribe(t=>{this.fetched=!0,this.nextPageToken=t.nextPageToken?t.nextPageToken:"",this.videos=this.videos.concat(t.items)}))}translate(t,n,o){t.target.insertAdjacentHTML("afterbegin",'<i class="bx bx-loader-alt bx-spin bx-rotate-90 hidden"></i>'),this.langService.translate(n).subscribe({next:s=>{o.children[0].innerHTML=s.translated_text,t.target.children[0].remove()},error:s=>{alert("Sorry not able to translate"),t.target.children[0].remove()}})}}O.\u0275fac=function(t){return new(t||O)(e.Y36(p.gz),e.Y36(b),e.Y36(I),e.Y36(_),e.Y36(me.H7),e.Y36(p.F0),e.Y36(x),e.Y36(e.Qsj),e.Y36(wt.D))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-video-view"]],decls:23,vars:15,consts:[[1,"grid","px-2","py-2","sm:gap-4","sm:py-8","sm:px-8","lg:grid-cols-3","lg:gap-8"],[1,"lg:col-span-2"],[1,"-mx-2","-mt-2","bg-slate-800","px-0","pb-3","md:m-0","md:rounded-2xl","md:p-3"],["videoContainer",""],[1,"overflow-hidden","md:rounded-xl"],["title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"aspect-video","w-full",3,"src"],[1,"mt-3","p-3","sm:p-0"],[1,"flex","items-start","px-2"],["class","w-full",4,"ngIf"],[1,"relative","isolate","-mx-2","mt-4","overflow-hidden","border","border-slate-800","md:mx-0","md:rounded-xl"],[1,"bg-red","top-0","z-10","w-full","bg-slate-800","p-2","text-lg","font-medium","text-white","shadow-md","shadow-slate-900","drop-shadow-lg"],[1,"recommendation","overflow-y-auto","pt-4","pb-4"],[3,"content","fetched","scrolled"],[1,"fixed","inset-0","block","bg-black/80","lg:hidden",3,"ngClass"],[1,"fixed","left-1/2","w-[96%]","-translate-x-1/2","bg-slate-900","sm:w-11/12","md:w-2/3","lg:static","lg:left-0","lg:block","lg:h-full","lg:w-full","lg:translate-x-0",3,"ngClass"],[1,"overflow-hidden","border","border-slate-800","md:mx-0","md:mt-0","md:rounded-xl"],[1,"flex","w-full","justify-between","bg-slate-800","p-2","text-lg","font-medium","text-white","shadow-md","shadow-slate-900","drop-shadow-lg"],[1,"text-4xl","text-slate-500","hover:text-slate-400","lg:hidden",3,"ngClass","click"],[1,"bx","bx-x"],[1,"recommendation","h-[400px]","overflow-y-auto","p-3","shadow-inner","shadow-slate-900","lg:h-full"],["class","my-4 flex items-start space-x-3 rounded-xl bg-slate-800 p-2",4,"ngFor","ngForOf"],[1,"w-full"],[1,"text-base","font-medium","tracking-normal","text-slate-300","line-clamp-2","sm:text-lg","md:text-xl",3,"title","innerHTML"],[1,"flex","justify-between"],[1,"mt-2","flex","items-center","text-sm","font-medium","tracking-wide","text-slate-400","line-clamp-1","hover:text-slate-300",3,"title"],[3,"routerLink"],[1,"bx","bxs-check-circle","text-sm"],[1,"mt-1","text-xs","font-medium","tracking-wide","text-slate-400"],[1,"mt-2","text-2xl","text-slate-500","hover:text-slate-400","lg:hidden",3,"ngClass","click"],[1,"bx","bx-comment-detail"],[1,"my-4","flex","items-start","space-x-3","rounded-xl","bg-slate-800","p-2"],[1,"shrink-0","overflow-clip","rounded-full",3,"href","title"],["loading","lazy",1,"h-10","w-10","rounded-full","text-sm",3,"src","alt"],[1,"overflow-auto"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-medium","tracking-wide","text-slate-300","hover:text-slate-200"],[3,"href"],[1,"text-xs","font-normal","tracking-wide","text-slate-400"],[4,"ngIf"],["commentWrapper",""],[1,"break-words","text-base","font-normal","text-slate-300","[&>a]:font-medium","[&>a]:text-rose-500","[&>a:hover]:text-rose-400",3,"innerHTML"],["translate","yes",1,"text-small","mt-2","font-medium","text-gray-400",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2,3)(4,"div",4),e._UZ(5,"iframe",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7),e.YNc(8,bt,15,11,"div",8),e.qZA()()(),e.TgZ(9,"div",9)(10,"h3",10),e._uU(11," Recommended Videos "),e.qZA(),e.TgZ(12,"div",11)(13,"app-content",12),e.NdJ("scrolled",function(){return n.fetchNextPage()}),e.qZA()()()(),e._UZ(14,"div",13),e.TgZ(15,"div",14)(16,"div",15)(17,"h3",16),e._uU(18),e.TgZ(19,"button",17),e.NdJ("click",function(){return n.isCommentsPopped=!1}),e._UZ(20,"i",18),e.qZA()(),e.TgZ(21,"div",19),e.YNc(22,Ct,12,10,"div",20),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("src",n.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube-nocookie.com/embed/"+n.videoId),e.uOi),e.xp6(3),e.Q6J("ngIf",n.video),e.xp6(5),e.Q6J("content",n.videos)("fetched",n.fetched),e.xp6(1),e.Q6J("ngClass",e.VKq(9,z,!n.isCommentsPopped)),e.xp6(1),e.Q6J("ngClass",e.VKq(11,z,!n.isCommentsPopped)),e.xp6(3),e.hij(" ",n.comments.length," Comments "),e.xp6(1),e.Q6J("ngClass",e.VKq(13,z,!n.isCommentsPopped)),e.xp6(3),e.Q6J("ngForOf",n.comments))},dependencies:[u.mk,u.sg,u.O5,p.rH,v,u.uU],styles:[".recommendation[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.recommendation[_ngcontent-%COMP%]::-webkit-scrollbar-track{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}.recommendation[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.recommendation[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}"]});class Z{constructor(t){this.http=t,this.query="General"}getVideos(t="General"){this.query=t;let n=(new h.LE).append("part","snippet").append("q",this.query).append("maxResults","26");return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}getNextPage(t=""){let n=(new h.LE).append("part","snippet").append("q",this.query).append("maxResults","26").append("pageToken",t);return this.http.get(`${f.N.YTbaseUrl}/search`,{headers:(0,g.v)(),params:n})}}Z.\u0275fac=function(t){return new(t||Z)(e.LFG(h.eN))},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});class k{constructor(t){this.http=t}getCategories(){return this.http.get("../../../assets/data/categories.json")}}k.\u0275fac=function(t){return new(t||k)(e.LFG(h.eN))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"});var St=a(5613);const It=function(){return{exact:!0}};function _t(i,t){if(1&i&&(e.TgZ(0,"li",6)(1,"a",7),e._UZ(2,"i",8),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&i){const n=t.$implicit;e.xp6(1),e.Q6J("routerLink","/videos/"+n.name)("routerLinkActive","text-white bg-rose-500 [&_i]:text-white [&_span]:text-white")("routerLinkActiveOptions",e.DdM(6,It)),e.xp6(1),e.Tol(n.icon),e.xp6(2),e.Oqu(n.name)}}const Zt=function(i){return{"-translate-x-full":i}};class H{constructor(t,n){this.categoryService=t,this.sidebarService=n,this.categories=[]}ngOnInit(){y.y.isBrowser&&this.categoryService.getCategories().subscribe(t=>{this.categories=t})}}H.\u0275fac=function(t){return new(t||H)(e.Y36(k),e.Y36(St.P))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-sidebar"]],decls:7,vars:4,consts:[[1,"w-70","lg:max-h-[calc(100vh","-","80px)]","fixed","top-0","left-0","z-10","h-[100vh]","-translate-x-full","bg-slate-900","transition-transform","duration-200","lg:top-[86px]","lg:translate-x-0",3,"ngClass"],[1,"my-4","ml-4","flex","justify-between","border-b","border-slate-700","pb-1","text-lg","font-medium","uppercase","tracking-wider","text-slate-400"],[1,"inline-flex","lg:hidden",3,"click"],[1,"bx","bx-x","cursor-pointer","align-middle","text-3xl","hover:text-slate-500"],[1,"overflow-y-auto","px-3",2,"height","calc(100vh - 150px)"],["class","my-1",4,"ngFor","ngForOf"],[1,"my-1"],[1,"group","flex","items-center","rounded-full","px-5","py-3","text-base","font-medium","tracking-wide","text-slate-300","transition-all","duration-200","hover:border-rose-500","hover:bg-rose-500","hover:text-white",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"mr-3","text-2xl","text-rose-500","group-hover:text-white"]],template:function(t,n){1&t&&(e.TgZ(0,"aside",0)(1,"h3",1),e._uU(2," Categories "),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.sidebarService.toggleMenu()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"ul",4),e.YNc(6,_t,5,7,"li",5),e.qZA()()),2&t&&(e.Q6J("ngClass",e.VKq(2,Zt,n.sidebarService.isMenuClosed)),e.xp6(6),e.Q6J("ngForOf",n.categories))},dependencies:[u.mk,u.sg,p.rH,p.Od],styles:["ul[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}ul[_ngcontent-%COMP%]::-webkit-scrollbar-track{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}"]});class P{constructor(t,n,o,s,r){this.videosService=t,this.activatedRoute=n,this.meta=o,this.router=s,this.renderer=r,this.videos=[],this.category="Coding",this.query=null,this.fetched=!1}ngOnInit(){y.y.isBrowser&&(this.activatedRoute.paramMap.subscribe(t=>{this.category=t.get("category"),this.category&&this.getVideos()}),this.activatedRoute.queryParams.subscribe(t=>{this.query=t.q,this.query&&this.getVideos()}))}getVideos(){this.meta.updateMetaData(this.renderer.selectRootElement("meta"),`Comet multimedia - ${this.category||this.query}`,`Browse ${this.category||this.query} videos on Comet multimedia.`,`https://comet-multimedia.up.railway.app${this.router.url}`,"https://comet-multimedia.up.railway.app/assets/images/comet-og-thumb.jpg"),y.y.isBrowser&&this.videosService.getVideos(this.category||this.query).subscribe(t=>{this.nextPageToken=t.nextPageToken,this.fetched=!0,this.videos=this.filterResponse(t.items)})}filterResponse(t){return t.filter(n=>void 0!==(n.id.videoId||n.id.channelId||n.id.playlistId))}fetchNextPage(){!this.nextPageToken||(this.fetched=!1,this.videosService.getNextPage(this.nextPageToken).subscribe(t=>{this.fetched=!0,this.nextPageToken=t.nextPageToken?t.nextPageToken:"",this.videos=this.videos.concat(this.filterResponse(t.items))}))}}P.\u0275fac=function(t){return new(t||P)(e.Y36(Z),e.Y36(p.gz),e.Y36(x),e.Y36(p.F0),e.Y36(e.Qsj))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-content-page"]],decls:6,vars:3,consts:[[1,"py-4","pt-4","sm:pt-8","sm:pr-8","sm:pl-8","lg:pl-72"],[1,"mb-4","flex","items-center","space-x-4","border-b","border-slate-800","px-6","py-3"],[1,"text-3xl","font-semibold","tracking-wide","text-slate-300"],[3,"fetched","content","scrolled"]],template:function(t,n){1&t&&(e._UZ(0,"app-sidebar"),e.TgZ(1,"section",0)(2,"div",1)(3,"h1",2),e._uU(4),e.qZA()(),e.TgZ(5,"app-content",3),e.NdJ("scrolled",function(){return n.fetchNextPage()}),e.qZA()()),2&t&&(e.xp6(4),e.hij(" ",n.category||"Search : "+n.query," "),e.xp6(1),e.Q6J("fetched",n.fetched)("content",n.videos))},dependencies:[H,v]});var kt=a(262),Pt=a(5032);const fe=new j.y(Pt.Z);function Ut(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"iframe",4,5),e.qZA(),e.TgZ(4,"div",6)(5,"h3",7),e._uU(6),e.qZA(),e.TgZ(7,"a",8),e._UZ(8,"i",9),e.qZA(),e.TgZ(9,"button",10),e.NdJ("click",function(){e.CHM(n);const s=e.oxw(2);return e.KtG(s.closeMiniplayer())}),e._UZ(10,"i",11),e.qZA()()()}if(2&i){const n=t.ngIf,o=e.oxw(2);e.xp6(2),e.Q6J("src",o.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube-nocookie.com/embed/"+n.id),e.uOi),e.xp6(4),e.hij(" ",n.snippet.title," "),e.xp6(1),e.MGl("href","/video/",n.id,"",e.LSH)}}function Lt(i,t){if(1&i&&(e.ynx(0),e.YNc(1,Ut,11,3,"div",1),e.ALo(2,"async"),e.BQk()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.video))}}class Q{constructor(t,n){this.videoService=t,this.sanitizer=n}ngOnInit(){this.videoService.miniplayerVideoId.subscribe(t=>{!t.length||(this.video=this.videoService.getVideo(t).pipe((0,W.U)(n=>n.items[0]),(0,kt.K)(n=>fe)))})}closeMiniplayer(){this.videoService.isMiniplayerOpen.next(!1),this.videoService.miniplayerVideoId.next("")}}Q.\u0275fac=function(t){return new(t||Q)(e.Y36(b),e.Y36(me.H7))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-mini-player"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","mini-player w-96 rounded-t-2xl bg-slate-700 p-3 shadow-2xl",4,"ngIf"],[1,"mini-player","w-96","rounded-t-2xl","bg-slate-700","p-3","shadow-2xl"],[1,"player","aspect-video"],["title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"h-full","w-full","rounded-t-xl",3,"src"],["player",""],[1,"mt-3","flex","w-full","justify-between","gap-2"],[1,"basis-80","break-words","font-medium","text-white"],["title","Go to video",1,"inline-block","text-2xl","text-slate-400","hover:text-white",3,"href"],[1,"bx","bx-link-external"],["title","Close miniplayer",1,"m-0","inline-block","h-full","border-none","p-0","text-3xl","text-slate-400","outline-none","hover:text-white",3,"click"],[1,"bx","bx-chevron-down"]],template:function(t,n){1&t&&(e.YNc(0,Lt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.videoService.isMiniplayerOpen))},dependencies:[u.O5,u.Ov],styles:[".mini-player[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0}"]});class E{constructor(){}ngOnInit(){}}function At(i,t){if(1&i&&e._UZ(0,"app-content",1),2&i){const n=e.oxw();e.Q6J("fetched",n.fetched)("content",n.playlists)}}E.\u0275fac=function(t){return new(t||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-user"]],decls:3,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"section"),e._UZ(1,"router-outlet"),e.qZA(),e._UZ(2,"app-mini-player"))},dependencies:[p.lC,Q]});class F{constructor(t,n){this.channelService=t,this.activatedRoute=n,this.channelId="",this.fetched=!1}ngOnInit(){y.y.isBrowser&&this.activatedRoute.parent?.paramMap.subscribe(t=>{this.channelId=t.get("channelId"),this.channelId&&this.channelService.getChannelPlaylists(this.channelId).subscribe(n=>{this.fetched=!0,this.playlists=n.items})})}}F.\u0275fac=function(t){return new(t||F)(e.Y36(w),e.Y36(p.gz))},F.\u0275cmp=e.Xpm({type:F,selectors:[["app-channel-playlists"]],decls:1,vars:1,consts:[[3,"fetched","content",4,"ngIf"],[3,"fetched","content"]],template:function(t,n){1&t&&e.YNc(0,At,1,2,"app-content",0),2&t&&e.Q6J("ngIf",n.playlists)},dependencies:[u.O5,v]});class U{constructor(t){this.http=t,this.playlistId=""}getPlaylistDetails(t){const n=(new h.LE).append("part","snippet").append("id",t);return this.http.get(`${f.N.YTbaseUrl}/playlists`,{headers:(0,g.v)(),params:n})}getPlaylistVideos(t){this.playlistId=t;const n=(new h.LE).append("part","snippet").append("playlistId",this.playlistId).append("maxResults","26");return this.http.get(`${f.N.YTbaseUrl}/playlistItems`,{headers:(0,g.v)(),params:n})}getNextPage(t=""){let n=(new h.LE).append("part","snippet").append("playlistId",this.playlistId).append("pageToken",t).append("maxResults","26");return this.http.get(`${f.N.YTbaseUrl}/playlistItems`,{headers:(0,g.v)(),params:n})}}function Mt(i,t){if(1&i&&(e.TgZ(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"p",7),e._uU(5," Playlist "),e.qZA(),e._UZ(6,"p",8)(7,"p",9),e.qZA()()()()),2&i){const n=e.oxw();e.xp6(6),e.Q6J("title",n.playlistDetails.snippet.title)("innerHTML",n.playlistDetails.snippet.title,e.oJD),e.xp6(1),e.Q6J("innerHTML",n.playlistDetails.snippet.description,e.oJD)("title",n.playlistDetails.snippet.description)}}function Jt(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"app-content",10),e.NdJ("scrolled",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.fetchNextPage())}),e.qZA()}if(2&i){const n=e.oxw();e.Q6J("fetched",n.fetched)("content",n.videos)("fetched",n.fetched)}}U.\u0275fac=function(t){return new(t||U)(e.LFG(h.eN))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"});class q{constructor(t,n,o,s,r){this.playlistService=t,this.activatedRoute=n,this.router=o,this.meta=s,this.renderer=r,this.playlistId="",this.videos=[],this.fetched=!1,this.nextPageToken=""}ngOnInit(){y.y.isBrowser&&this.activatedRoute.paramMap.subscribe(t=>{this.playlistId=t.get("playlistId"),this.playlistId&&(this.playlistService.getPlaylistDetails(this.playlistId).subscribe(n=>{this.playlistDetails=n.items[0],this.meta.updateMetaData(this.renderer.selectRootElement("meta"),this.playlistDetails.snippet.title,this.playlistDetails.snippet.description,`https://comet-multimedia.up.railway.app${this.router.url}`,this.playlistDetails.snippet.thumbnails.standard.url)}),this.playlistService.getPlaylistVideos(this.playlistId).subscribe(n=>{this.fetched=!0,this.nextPageToken=n.nextPageToken,this.videos=n.items}))})}fetchNextPage(){!this.nextPageToken||(this.fetched=!1,this.playlistService.getNextPage(this.nextPageToken).subscribe(t=>{this.fetched=!0,this.nextPageToken=t.nextPageToken?t.nextPageToken:"",this.videos=this.videos.concat(t.items)}))}}q.\u0275fac=function(t){return new(t||q)(e.Y36(U),e.Y36(p.gz),e.Y36(p.F0),e.Y36(x),e.Y36(e.Qsj))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-playlist-page"]],decls:4,vars:2,consts:[[1,"py-4","sm:px-8","sm:pt-8"],["class","mb-12 flex justify-center",4,"ngIf"],[3,"fetched","content","scrolled",4,"ngIf"],[1,"mb-12","flex","justify-center"],[1,"mt-2"],[1,"flex","items-start","px-2"],[1,"w-full","text-center"],[1,"text-sm","font-medium","uppercase","tracking-widest","text-rose-500"],[1,"text-center","text-3xl","font-medium","leading-snug","tracking-normal","text-slate-300","line-clamp-2","sm:text-4xl","sm:leading-relaxed",3,"title","innerHTML"],[1,"my-3","max-w-4xl","text-center","text-base","font-normal","tracking-normal","text-slate-500","line-clamp-4","md:line-clamp-none",3,"innerHTML","title"],[3,"fetched","content","scrolled"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0),e.YNc(1,Mt,8,4,"section",1),e.TgZ(2,"div"),e.YNc(3,Jt,1,3,"app-content",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.playlistDetails),e.xp6(2),e.Q6J("ngIf",n.videos))},dependencies:[u.O5,v]});const Dt=[{path:"",component:E,children:[{path:"",redirectTo:"videos/Coding",pathMatch:"full"},{path:"videos",redirectTo:"videos/Coding"},{path:"search",component:P},{path:"videos/:category",component:P},{path:"video/:videoId",component:O},{path:"playlist/:playlistId",component:q},{path:"channel/:channelId",component:V,children:[{path:"",redirectTo:"uploads",pathMatch:"full"},{path:"uploads",component:N},{path:"playlists",component:F}]}]}];class L{}L.\u0275fac=function(t){return new(t||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[p.Bz.forChild(Dt),p.Bz]});class A{}A.\u0275fac=function(t){return new(t||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[u.ez,L,ht]})}}]);