"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=290,exports.ids=[290],exports.modules={65290:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__);var asyncToGenerator=__webpack_require__(15861),index_esm2017=__webpack_require__(16955),index_e0bc98c8=__webpack_require__(17016),index_node_esm=__webpack_require__(63513),esm_index_esm2017=__webpack_require__(8258),component_dist_esm_index_esm2017=(__webpack_require__(39792),__webpack_require__(37420)),lib=__webpack_require__(84030);function _generateEventId(prefix="",digits=10){let random="";for(let i=0;i<digits;i++)random+=Math.floor(10*Math.random());return prefix+random}__name(_generateEventId,"_generateEventId");function _withDefaultResolver(auth,resolverOverride){return resolverOverride?(0,index_e0bc98c8.ap)(resolverOverride):((0,index_e0bc98c8.aq)(auth._popupRedirectResolver,auth,"argument-error"),auth._popupRedirectResolver)}__name(class AuthPopup{constructor(window2){this.window=window2,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}},"AuthPopup"),__name(_withDefaultResolver,"_withDefaultResolver");class IdpCredential extends index_e0bc98c8.H{constructor(params){super("custom","custom"),this.params=params}_getIdTokenResponse(auth){return(0,index_e0bc98c8.au)(auth,this._buildIdpRequest())}_linkToIdToken(auth,idToken){return(0,index_e0bc98c8.au)(auth,this._buildIdpRequest(idToken))}_getReauthenticationResolver(auth){return(0,index_e0bc98c8.au)(auth,this._buildIdpRequest())}_buildIdpRequest(idToken){const request={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return idToken&&(request.idToken=idToken),request}}function _signIn(params){return(0,index_e0bc98c8.ar)(params.auth,new IdpCredential(params),params.bypassAuthState)}function _reauth(params){const{auth,user}=params;return(0,index_e0bc98c8.aq)(user,auth,"internal-error"),(0,index_e0bc98c8.as)(user,new IdpCredential(params),params.bypassAuthState)}function _link(_x){return _link2.apply(this,arguments)}function _link2(){return(_link2=(0,asyncToGenerator.Z)(function*(params){const{auth,user}=params;return(0,index_e0bc98c8.aq)(user,auth,"internal-error"),(0,index_e0bc98c8.at)(user,new IdpCredential(params),params.bypassAuthState)})).apply(this,arguments)}__name(IdpCredential,"IdpCredential"),__name(_signIn,"_signIn"),__name(_reauth,"_reauth"),__name(_link,"_link"),__name(_link2,"_link2");class AbstractPopupRedirectOperation{constructor(auth,filter,resolver,user,bypassAuthState=!1){this.auth=auth,this.resolver=resolver,this.user=user,this.bypassAuthState=bypassAuthState,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(filter)?filter:[filter]}execute(){var _this=this;return new Promise(function(){var _ref=(0,asyncToGenerator.Z)(function*(resolve,reject){_this.pendingPromise={resolve,reject};try{_this.eventManager=yield _this.resolver._initialize(_this.auth),yield _this.onExecution(),_this.eventManager.registerConsumer(_this)}catch(e){_this.reject(e)}});return function(_x2,_x3){return _ref.apply(this,arguments)}}())}onAuthEvent(event){var _this2=this;return(0,asyncToGenerator.Z)(function*(){const{urlResponse,sessionId,postBody,tenantId,error,type}=event;if(error)return void _this2.reject(error);const params={auth:_this2.auth,requestUri:urlResponse,sessionId,tenantId:tenantId||void 0,postBody:postBody||void 0,user:_this2.user,bypassAuthState:_this2.bypassAuthState};try{_this2.resolve(yield _this2.getIdpTask(type)(params))}catch(e){_this2.reject(e)}})()}onError(error){this.reject(error)}getIdpTask(type){switch(type){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:(0,index_e0bc98c8.av)(this.auth,"internal-error")}}resolve(cred){(0,index_e0bc98c8.aw)(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(cred),this.unregisterAndCleanUp()}reject(error){(0,index_e0bc98c8.aw)(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(error),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}__name(AbstractPopupRedirectOperation,"AbstractPopupRedirectOperation");const redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(auth,resolver,bypassAuthState=!1){super(auth,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],resolver,void 0,bypassAuthState),this.eventId=null}execute(){var _superprop_getExecute=__name(()=>super.execute,"_superprop_getExecute"),_this3=this;return(0,asyncToGenerator.Z)(function*(){let readyOutcome=redirectOutcomeMap.get(_this3.auth._key());if(!readyOutcome){try{const result=(yield _getAndClearPendingRedirectStatus(_this3.resolver,_this3.auth))?yield _superprop_getExecute().call(_this3):null;readyOutcome=__name(()=>Promise.resolve(result),"readyOutcome")}catch(e){readyOutcome=__name(()=>Promise.reject(e),"readyOutcome")}redirectOutcomeMap.set(_this3.auth._key(),readyOutcome)}return _this3.bypassAuthState||redirectOutcomeMap.set(_this3.auth._key(),()=>Promise.resolve(null)),readyOutcome()})()}onAuthEvent(event){var _superprop_getOnAuthEvent=__name(()=>super.onAuthEvent,"_superprop_getOnAuthEvent"),_this4=this;return(0,asyncToGenerator.Z)(function*(){if("signInViaRedirect"===event.type)return _superprop_getOnAuthEvent().call(_this4,event);if("unknown"!==event.type){if(event.eventId){const user=yield _this4.auth._redirectUserForId(event.eventId);if(user)return _this4.user=user,_superprop_getOnAuthEvent().call(_this4,event);_this4.resolve(null)}}else _this4.resolve(null)})()}onExecution(){return(0,asyncToGenerator.Z)(function*(){})()}cleanUp(){}}function _getAndClearPendingRedirectStatus(_x4,_x5){return _getAndClearPendingRedirectStatus2.apply(this,arguments)}function _getAndClearPendingRedirectStatus2(){return(_getAndClearPendingRedirectStatus2=(0,asyncToGenerator.Z)(function*(resolver,auth){const key=pendingRedirectKey(auth),persistence=resolverPersistence(resolver);if(!(yield persistence._isAvailable()))return!1;const hasPendingRedirect="true"===(yield persistence._get(key));return yield persistence._remove(key),hasPendingRedirect})).apply(this,arguments)}function _clearRedirectOutcomes(){redirectOutcomeMap.clear()}function _overrideRedirectResult(auth,result){redirectOutcomeMap.set(auth._key(),result)}function resolverPersistence(resolver){return(0,index_e0bc98c8.ap)(resolver._redirectPersistence)}function pendingRedirectKey(auth){return(0,index_e0bc98c8.ax)("pendingRedirect",auth.config.apiKey,auth.name)}function _getRedirectResult(_x6,_x7){return _getRedirectResult2.apply(this,arguments)}function _getRedirectResult2(){return(_getRedirectResult2=(0,asyncToGenerator.Z)(function*(auth,resolverExtern,bypassAuthState=!1){const authInternal=(0,index_e0bc98c8.ay)(auth),resolver=_withDefaultResolver(authInternal,resolverExtern),result=yield new RedirectAction(authInternal,resolver,bypassAuthState).execute();return result&&!bypassAuthState&&(delete result.user._redirectEventId,yield authInternal._persistUserIfCurrent(result.user),yield authInternal._setRedirectUser(null,resolverExtern)),result})).apply(this,arguments)}__name(RedirectAction,"RedirectAction"),__name(_getAndClearPendingRedirectStatus,"_getAndClearPendingRedirectStatus"),__name(_getAndClearPendingRedirectStatus2,"_getAndClearPendingRedirectStatus2"),__name(_clearRedirectOutcomes,"_clearRedirectOutcomes"),__name(_overrideRedirectResult,"_overrideRedirectResult"),__name(resolverPersistence,"resolverPersistence"),__name(pendingRedirectKey,"pendingRedirectKey"),__name(_getRedirectResult,"_getRedirectResult"),__name(_getRedirectResult2,"_getRedirectResult2");class BrowserPersistenceClass{constructor(storageRetriever,type){this.storageRetriever=storageRetriever,this.type=type}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(key,value){return this.storage.setItem(key,JSON.stringify(value)),Promise.resolve()}_get(key){const json=this.storage.getItem(key);return Promise.resolve(json?JSON.parse(json):null)}_remove(key){return this.storage.removeItem(key),Promise.resolve()}get storage(){return this.storageRetriever()}}__name(BrowserPersistenceClass,"BrowserPersistenceClass");class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_key,_listener){}_removeListener(_key,_listener){}}__name(BrowserSessionPersistence,"BrowserSessionPersistence"),BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;function _getRedirectUrl(auth,provider,authType,redirectUrl,eventId,additionalParams){(0,index_e0bc98c8.aq)(auth.config.authDomain,auth,"auth-domain-config-required"),(0,index_e0bc98c8.aq)(auth.config.apiKey,auth,"invalid-api-key");const params={apiKey:auth.config.apiKey,appName:auth.name,authType,redirectUrl,v:esm_index_esm2017.SDK_VERSION,eventId};if(provider instanceof index_e0bc98c8.az){provider.setDefaultLanguage(auth.languageCode),params.providerId=provider.providerId||"",(0,index_node_esm.xb)(provider.getCustomParameters())||(params.customParameters=JSON.stringify(provider.getCustomParameters()));for(const[key,value]of Object.entries(additionalParams||{}))params[key]=value}if(provider instanceof index_e0bc98c8.aA){const scopes=provider.getScopes().filter(scope=>""!==scope);scopes.length>0&&(params.scopes=scopes.join(","))}auth.tenantId&&(params.tid=auth.tenantId);const paramsDict=params;for(const key of Object.keys(paramsDict))void 0===paramsDict[key]&&delete paramsDict[key];return`${getHandlerBase(auth)}?${(0,index_node_esm.xO)(paramsDict).slice(1)}`}function getHandlerBase({config}){return config.emulator?(0,index_e0bc98c8.aB)(config,"emulator/auth/handler"):`https://${config.authDomain}/__/auth/handler`}function _cordovaWindow(){return window}function _getProjectConfig(_x8){return _getProjectConfig2.apply(this,arguments)}function _getProjectConfig2(){return(_getProjectConfig2=(0,asyncToGenerator.Z)(function*(auth,request={}){return(0,index_e0bc98c8.aC)(auth,"GET","/v1/projects",request)})).apply(this,arguments)}__name(_getRedirectUrl,"_getRedirectUrl"),__name(getHandlerBase,"getHandlerBase"),__name(_cordovaWindow,"_cordovaWindow"),__name(_getProjectConfig,"_getProjectConfig"),__name(_getProjectConfig2,"_getProjectConfig2");function _generateHandlerUrl(_x9,_x10,_x11){return _generateHandlerUrl2.apply(this,arguments)}function _generateHandlerUrl2(){return(_generateHandlerUrl2=(0,asyncToGenerator.Z)(function*(auth,event,provider){var _a;const{BuildInfo}=_cordovaWindow();(0,index_e0bc98c8.aw)(event.sessionId,"AuthEvent did not contain a session ID");const sessionDigest=yield computeSha256(event.sessionId),additionalParams={};return(0,index_e0bc98c8.aD)()?additionalParams.ibi=BuildInfo.packageName:(0,index_e0bc98c8.aE)()?additionalParams.apn=BuildInfo.packageName:(0,index_e0bc98c8.av)(auth,"operation-not-supported-in-this-environment"),BuildInfo.displayName&&(additionalParams.appDisplayName=BuildInfo.displayName),additionalParams.sessionId=sessionDigest,_getRedirectUrl(auth,provider,event.type,void 0,null!==(_a=event.eventId)&&void 0!==_a?_a:void 0,additionalParams)})).apply(this,arguments)}function _validateOrigin(_x12){return _validateOrigin2.apply(this,arguments)}function _validateOrigin2(){return(_validateOrigin2=(0,asyncToGenerator.Z)(function*(auth){const{BuildInfo}=_cordovaWindow(),request={};(0,index_e0bc98c8.aD)()?request.iosBundleId=BuildInfo.packageName:(0,index_e0bc98c8.aE)()?request.androidPackageName=BuildInfo.packageName:(0,index_e0bc98c8.av)(auth,"operation-not-supported-in-this-environment"),yield _getProjectConfig(auth,request)})).apply(this,arguments)}function _performRedirect(handlerUrl){const{cordova}=_cordovaWindow();return new Promise(resolve=>{cordova.plugins.browsertab.isAvailable(browserTabIsAvailable=>{let iabRef=null;browserTabIsAvailable?cordova.plugins.browsertab.openUrl(handlerUrl):iabRef=cordova.InAppBrowser.open(handlerUrl,(0,index_e0bc98c8.aF)()?"_blank":"_system","location=yes"),resolve(iabRef)})})}function _waitForAppResume(_x13,_x14,_x15){return _waitForAppResume2.apply(this,arguments)}function _waitForAppResume2(){return(_waitForAppResume2=(0,asyncToGenerator.Z)(function*(auth,eventListener,iabRef){const{cordova}=_cordovaWindow();let cleanup=__name(()=>{},"cleanup");try{yield new Promise((resolve,reject)=>{let onCloseTimer=null;function authEventSeen(){var _a;resolve();const closeBrowserTab=null===(_a=cordova.plugins.browsertab)||void 0===_a?void 0:_a.close;"function"==typeof closeBrowserTab&&closeBrowserTab(),"function"==typeof(null==iabRef?void 0:iabRef.close)&&iabRef.close()}function resumed(){onCloseTimer||(onCloseTimer=window.setTimeout(()=>{reject((0,index_e0bc98c8.aG)(auth,"redirect-cancelled-by-user"))},2e3))}function visibilityChanged(){"visible"===(null==document?void 0:document.visibilityState)&&resumed()}__name(authEventSeen,"authEventSeen"),__name(resumed,"resumed"),__name(visibilityChanged,"visibilityChanged"),eventListener.addPassiveListener(authEventSeen),document.addEventListener("resume",resumed,!1),(0,index_e0bc98c8.aE)()&&document.addEventListener("visibilitychange",visibilityChanged,!1),cleanup=__name(()=>{eventListener.removePassiveListener(authEventSeen),document.removeEventListener("resume",resumed,!1),document.removeEventListener("visibilitychange",visibilityChanged,!1),onCloseTimer&&window.clearTimeout(onCloseTimer)},"cleanup")})}finally{cleanup()}})).apply(this,arguments)}function _checkCordovaConfiguration(auth){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;const win=_cordovaWindow();(0,index_e0bc98c8.aq)("function"==typeof(null===(_a=null==win?void 0:win.universalLinks)||void 0===_a?void 0:_a.subscribe),auth,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,index_e0bc98c8.aq)(typeof(null===(_b=null==win?void 0:win.BuildInfo)||void 0===_b?void 0:_b.packageName)<"u",auth,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,index_e0bc98c8.aq)("function"==typeof(null===(_e=null===(_d=null===(_c=null==win?void 0:win.cordova)||void 0===_c?void 0:_c.plugins)||void 0===_d?void 0:_d.browsertab)||void 0===_e?void 0:_e.openUrl),auth,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,index_e0bc98c8.aq)("function"==typeof(null===(_h=null===(_g=null===(_f=null==win?void 0:win.cordova)||void 0===_f?void 0:_f.plugins)||void 0===_g?void 0:_g.browsertab)||void 0===_h?void 0:_h.isAvailable),auth,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,index_e0bc98c8.aq)("function"==typeof(null===(_k=null===(_j=null==win?void 0:win.cordova)||void 0===_j?void 0:_j.InAppBrowser)||void 0===_k?void 0:_k.open),auth,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function computeSha256(_x16){return _computeSha.apply(this,arguments)}function _computeSha(){return(_computeSha=(0,asyncToGenerator.Z)(function*(sessionId){const bytes=stringToArrayBuffer(sessionId),buf=yield crypto.subtle.digest("SHA-256",bytes);return Array.from(new Uint8Array(buf)).map(num=>num.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function stringToArrayBuffer(str){if((0,index_e0bc98c8.aw)(/[0-9a-zA-Z]+/.test(str),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(str);const buff=new ArrayBuffer(str.length),view=new Uint8Array(buff);for(let i=0;i<str.length;i++)view[i]=str.charCodeAt(i);return view}__name(_generateHandlerUrl,"_generateHandlerUrl"),__name(_generateHandlerUrl2,"_generateHandlerUrl2"),__name(_validateOrigin,"_validateOrigin"),__name(_validateOrigin2,"_validateOrigin2"),__name(_performRedirect,"_performRedirect"),__name(_waitForAppResume,"_waitForAppResume"),__name(_waitForAppResume2,"_waitForAppResume2"),__name(_checkCordovaConfiguration,"_checkCordovaConfiguration"),__name(computeSha256,"computeSha256"),__name(_computeSha,"_computeSha"),__name(stringToArrayBuffer,"stringToArrayBuffer");class AuthEventManager{constructor(auth){this.auth=auth,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(authEventConsumer){this.consumers.add(authEventConsumer),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,authEventConsumer)&&(this.sendToConsumer(this.queuedRedirectEvent,authEventConsumer),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(authEventConsumer){this.consumers.delete(authEventConsumer)}onEvent(event){if(this.hasEventBeenHandled(event))return!1;let handled=!1;return this.consumers.forEach(consumer=>{this.isEventForConsumer(event,consumer)&&(handled=!0,this.sendToConsumer(event,consumer),this.saveEventToCache(event))}),this.hasHandledPotentialRedirect||!isRedirectEvent(event)||(this.hasHandledPotentialRedirect=!0,handled||(this.queuedRedirectEvent=event,handled=!0)),handled}sendToConsumer(event,consumer){var _a;if(event.error&&!isNullRedirectEvent(event)){const code=(null===(_a=event.error.code)||void 0===_a?void 0:_a.split("auth/")[1])||"internal-error";consumer.onError((0,index_e0bc98c8.aG)(this.auth,code))}else consumer.onAuthEvent(event)}isEventForConsumer(event,consumer){const eventIdMatches=null===consumer.eventId||!!event.eventId&&event.eventId===consumer.eventId;return consumer.filter.includes(event.type)&&eventIdMatches}hasEventBeenHandled(event){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(event))}saveEventToCache(event){this.cachedEventUids.add(eventUid(event)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(v=>v).join("-")}function isNullRedirectEvent({type,error}){return"unknown"===type&&"auth/no-auth-event"===(null==error?void 0:error.code)}function isRedirectEvent(event){switch(event.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(event);default:return!1}}function _iframeCannotSyncWebStorage(){const ua=(0,index_node_esm.z$)();return(0,index_e0bc98c8.aK)(ua)||(0,index_e0bc98c8.aD)(ua)}__name(AuthEventManager,"AuthEventManager"),__name(eventUid,"eventUid"),__name(isNullRedirectEvent,"isNullRedirectEvent"),__name(isRedirectEvent,"isRedirectEvent"),__name(_iframeCannotSyncWebStorage,"_iframeCannotSyncWebStorage");class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(event,poll)=>this.onStorageEvent(event,poll),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&(0,index_e0bc98c8.aH)(),this.fallbackToPolling=(0,index_e0bc98c8.aI)(),this._shouldAllowMigration=!0}forAllChangedKeys(cb){for(const key of Object.keys(this.listeners)){const newValue=this.storage.getItem(key),oldValue=this.localCache[key];newValue!==oldValue&&cb(key,oldValue,newValue)}}onStorageEvent(event,poll=!1){if(!event.key)return void this.forAllChangedKeys((key2,_oldValue,newValue)=>{this.notifyListeners(key2,newValue)});const key=event.key;if(poll?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const storedValue2=this.storage.getItem(key);if(event.newValue!==storedValue2)null!==event.newValue?this.storage.setItem(key,event.newValue):this.storage.removeItem(key);else if(this.localCache[key]===event.newValue&&!poll)return}const triggerListeners=__name(()=>{const storedValue2=this.storage.getItem(key);!poll&&this.localCache[key]===storedValue2||this.notifyListeners(key,storedValue2)},"triggerListeners"),storedValue=this.storage.getItem(key);(0,index_e0bc98c8.aJ)()&&storedValue!==event.newValue&&event.newValue!==event.oldValue?setTimeout(triggerListeners,10):triggerListeners()}notifyListeners(key,value){this.localCache[key]=value;const listeners=this.listeners[key];if(listeners)for(const listener of Array.from(listeners))listener(value&&JSON.parse(value))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((key,oldValue,newValue)=>{this.onStorageEvent(new StorageEvent("storage",{key,oldValue,newValue}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(key,listener){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[key]||(this.listeners[key]=new Set,this.localCache[key]=this.storage.getItem(key)),this.listeners[key].add(listener)}_removeListener(key,listener){this.listeners[key]&&(this.listeners[key].delete(listener),0===this.listeners[key].size&&delete this.listeners[key]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(key,value){var _superprop_get_set=__name(()=>super._set,"_superprop_get_set"),_this5=this;return(0,asyncToGenerator.Z)(function*(){yield _superprop_get_set().call(_this5,key,value),_this5.localCache[key]=JSON.stringify(value)})()}_get(key){var _superprop_get_get=__name(()=>super._get,"_superprop_get_get"),_this6=this;return(0,asyncToGenerator.Z)(function*(){const value=yield _superprop_get_get().call(_this6,key);return _this6.localCache[key]=JSON.stringify(value),value})()}_remove(key){var _superprop_get_remove=__name(()=>super._remove,"_superprop_get_remove"),_this7=this;return(0,asyncToGenerator.Z)(function*(){yield _superprop_get_remove().call(_this7,key),delete _this7.localCache[key]})()}}__name(BrowserLocalPersistence,"BrowserLocalPersistence"),BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;class CordovaAuthEventManager extends AuthEventManager{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(resolve=>{this.resolveInialized=resolve})}addPassiveListener(cb){this.passiveListeners.add(cb)}removePassiveListener(cb){this.passiveListeners.delete(cb)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(event){return this.resolveInialized(),this.passiveListeners.forEach(cb=>cb(event)),super.onEvent(event)}initialized(){var _this8=this;return(0,asyncToGenerator.Z)(function*(){yield _this8.initPromise})()}}function _generateNewEvent(auth,type,eventId=null){return{type,eventId,urlResponse:null,sessionId:generateSessionId(),postBody:null,tenantId:auth.tenantId,error:(0,index_e0bc98c8.aG)(auth,"no-auth-event")}}function _savePartialEvent(auth,event){return storage()._set(persistenceKey(auth),event)}function _getAndRemoveEvent(_x17){return _getAndRemoveEvent2.apply(this,arguments)}function _getAndRemoveEvent2(){return(_getAndRemoveEvent2=(0,asyncToGenerator.Z)(function*(auth){const event=yield storage()._get(persistenceKey(auth));return event&&(yield storage()._remove(persistenceKey(auth))),event})).apply(this,arguments)}function _eventFromPartialAndUrl(partialEvent,url){var _a,_b;const callbackUrl=_getDeepLinkFromCallback(url);if(callbackUrl.includes("/__/auth/callback")){const params=searchParamsOrEmpty(callbackUrl),errorObject=params.firebaseError?parseJsonOrNull(decodeURIComponent(params.firebaseError)):null,code=null===(_b=null===(_a=null==errorObject?void 0:errorObject.code)||void 0===_a?void 0:_a.split("auth/"))||void 0===_b?void 0:_b[1],error=code?(0,index_e0bc98c8.aG)(code):null;return error?{type:partialEvent.type,eventId:partialEvent.eventId,tenantId:partialEvent.tenantId,error,urlResponse:null,sessionId:null,postBody:null}:{type:partialEvent.type,eventId:partialEvent.eventId,tenantId:partialEvent.tenantId,sessionId:partialEvent.sessionId,urlResponse:callbackUrl,postBody:null}}return null}function generateSessionId(){const chars=[],allowedChars="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){const idx=Math.floor(Math.random()*allowedChars.length);chars.push(allowedChars.charAt(idx))}return chars.join("")}function storage(){return(0,index_e0bc98c8.ap)(browserLocalPersistence)}function persistenceKey(auth){return(0,index_e0bc98c8.ax)("authEvent",auth.config.apiKey,auth.name)}function parseJsonOrNull(json){try{return JSON.parse(json)}catch{return null}}function _getDeepLinkFromCallback(url){const params=searchParamsOrEmpty(url),link=params.link?decodeURIComponent(params.link):void 0,doubleDeepLink=searchParamsOrEmpty(link).link,iOSDeepLink=params.deep_link_id?decodeURIComponent(params.deep_link_id):void 0;return searchParamsOrEmpty(iOSDeepLink).link||iOSDeepLink||doubleDeepLink||link||url}function searchParamsOrEmpty(url){if(null==url||!url.includes("?"))return{};const[_,...rest]=url.split("?");return(0,index_node_esm.zd)(rest.join("?"))}__name(CordovaAuthEventManager,"CordovaAuthEventManager"),__name(_generateNewEvent,"_generateNewEvent"),__name(_savePartialEvent,"_savePartialEvent"),__name(_getAndRemoveEvent,"_getAndRemoveEvent"),__name(_getAndRemoveEvent2,"_getAndRemoveEvent2"),__name(_eventFromPartialAndUrl,"_eventFromPartialAndUrl"),__name(generateSessionId,"generateSessionId"),__name(storage,"storage"),__name(persistenceKey,"persistenceKey"),__name(parseJsonOrNull,"parseJsonOrNull"),__name(_getDeepLinkFromCallback,"_getDeepLinkFromCallback"),__name(searchParamsOrEmpty,"searchParamsOrEmpty");class CordovaPopupRedirectResolver{constructor(){this._redirectPersistence=browserSessionPersistence,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}_initialize(auth){var _this9=this;return(0,asyncToGenerator.Z)(function*(){const key=auth._key();let manager=_this9.eventManagers.get(key);return manager||(manager=new CordovaAuthEventManager(auth),_this9.eventManagers.set(key,manager),_this9.attachCallbackListeners(auth,manager)),manager})()}_openPopup(auth){(0,index_e0bc98c8.av)(auth,"operation-not-supported-in-this-environment")}_openRedirect(auth,provider,authType,eventId){var _this10=this;return(0,asyncToGenerator.Z)(function*(){_checkCordovaConfiguration(auth);const manager=yield _this10._initialize(auth);yield manager.initialized(),manager.resetRedirect(),_clearRedirectOutcomes(),yield _this10._originValidation(auth);const event=_generateNewEvent(auth,authType,eventId);yield _savePartialEvent(auth,event);const url=yield _generateHandlerUrl(auth,event,provider),iabRef=yield _performRedirect(url);return _waitForAppResume(auth,manager,iabRef)})()}_isIframeWebStorageSupported(_auth,_cb){throw new Error("Method not implemented.")}_originValidation(auth){const key=auth._key();return this.originValidationPromises[key]||(this.originValidationPromises[key]=_validateOrigin(auth)),this.originValidationPromises[key]}attachCallbackListeners(auth,manager){const{universalLinks,handleOpenURL,BuildInfo}=_cordovaWindow(),noEventTimeout=setTimeout((0,asyncToGenerator.Z)(function*(){yield _getAndRemoveEvent(auth),manager.onEvent(generateNoEvent())}),500),universalLinksCb=function(){var _ref3=(0,asyncToGenerator.Z)(function*(eventData){clearTimeout(noEventTimeout);const partialEvent=yield _getAndRemoveEvent(auth);let finalEvent=null;partialEvent&&(null==eventData?void 0:eventData.url)&&(finalEvent=_eventFromPartialAndUrl(partialEvent,eventData.url)),manager.onEvent(finalEvent||generateNoEvent())});return __name(function(_x18){return _ref3.apply(this,arguments)},"universalLinksCb")}();typeof universalLinks<"u"&&"function"==typeof universalLinks.subscribe&&universalLinks.subscribe(null,universalLinksCb);const existingHandleOpenURL=handleOpenURL,packagePrefix=`${BuildInfo.packageName.toLowerCase()}://`;_cordovaWindow().handleOpenURL=function(){var _ref4=(0,asyncToGenerator.Z)(function*(url){if(url.toLowerCase().startsWith(packagePrefix)&&universalLinksCb({url}),"function"==typeof existingHandleOpenURL)try{existingHandleOpenURL(url)}catch(e){console.error(e)}});return function(_x19){return _ref4.apply(this,arguments)}}()}}__name(CordovaPopupRedirectResolver,"CordovaPopupRedirectResolver");const cordovaPopupRedirectResolver=CordovaPopupRedirectResolver;function generateNoEvent(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,index_e0bc98c8.aG)("no-auth-event")}}function addFrameworkForLogging(auth,framework){(0,index_e0bc98c8.ay)(auth)._logFramework(framework)}__name(generateNoEvent,"generateNoEvent"),__name(addFrameworkForLogging,"addFrameworkForLogging");function _getCurrentScheme(){var _a;return(null===(_a=null==self?void 0:self.location)||void 0===_a?void 0:_a.protocol)||null}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _isAndroidOrIosCordovaScheme(ua=(0,index_node_esm.z$)()){return!("file:"!==_getCurrentScheme()&&"ionic:"!==_getCurrentScheme()&&"capacitor:"!==_getCurrentScheme()||!ua.toLowerCase().match(/iphone|ipad|ipod|android/))}function _isNativeEnvironment(){return(0,index_node_esm.b$)()||(0,index_node_esm.UG)()}function _isIe11(){return(0,index_node_esm.w1)()&&11===(null==document?void 0:document.documentMode)}function _isEdge(ua=(0,index_node_esm.z$)()){return/Edge\/\d+/.test(ua)}function _isLocalStorageNotSynchronized(ua=(0,index_node_esm.z$)()){return _isIe11()||_isEdge(ua)}function _isWebStorageSupported(){try{const storage2=self.localStorage,key=_generateEventId();if(storage2)return storage2.setItem(key,"1"),storage2.removeItem(key),!_isLocalStorageNotSynchronized()||(0,index_node_esm.hl)()}catch{return _isWorker()&&(0,index_node_esm.hl)()}return!1}function _isWorker(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _isPopupRedirectSupported(){return(_isHttpOrHttps()||(0,index_node_esm.ru)()||_isAndroidOrIosCordovaScheme())&&!_isNativeEnvironment()&&_isWebStorageSupported()&&!_isWorker()}function _isLikelyCordova(){return _isAndroidOrIosCordovaScheme()&&typeof document<"u"}function _isCordova(){return _isCordova2.apply(this,arguments)}function _isCordova2(){return(_isCordova2=(0,asyncToGenerator.Z)(function*(){return!!_isLikelyCordova()&&new Promise(resolve=>{const timeoutId=setTimeout(()=>{resolve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(timeoutId),resolve(!0)})})})).apply(this,arguments)}function _getSelfWindow(){return typeof window<"u"?window:null}__name(_getCurrentScheme,"_getCurrentScheme"),__name(_isHttpOrHttps,"_isHttpOrHttps"),__name(_isAndroidOrIosCordovaScheme,"_isAndroidOrIosCordovaScheme"),__name(_isNativeEnvironment,"_isNativeEnvironment"),__name(_isIe11,"_isIe11"),__name(_isEdge,"_isEdge"),__name(_isLocalStorageNotSynchronized,"_isLocalStorageNotSynchronized"),__name(_isWebStorageSupported,"_isWebStorageSupported"),__name(_isWorker,"_isWorker"),__name(_isPopupRedirectSupported,"_isPopupRedirectSupported"),__name(_isLikelyCordova,"_isLikelyCordova"),__name(_isCordova,"_isCordova"),__name(_isCordova2,"_isCordova2"),__name(_getSelfWindow,"_getSelfWindow");const Persistence={LOCAL:"local",NONE:"none",SESSION:"session"},_assert$3=index_e0bc98c8.aq;function _validatePersistenceArgument(auth,persistence){_assert$3(Object.values(Persistence).includes(persistence),auth,"invalid-persistence-type"),(0,index_node_esm.b$)()?_assert$3(persistence!==Persistence.SESSION,auth,"unsupported-persistence-type"):(0,index_node_esm.UG)()?_assert$3(persistence===Persistence.NONE,auth,"unsupported-persistence-type"):_isWorker()?_assert$3(persistence===Persistence.NONE||persistence===Persistence.LOCAL&&(0,index_node_esm.hl)(),auth,"unsupported-persistence-type"):_assert$3(persistence===Persistence.NONE||_isWebStorageSupported(),auth,"unsupported-persistence-type")}function _savePersistenceForRedirect(_x){return _savePersistenceForRedirect2.apply(this,arguments)}function _savePersistenceForRedirect2(){return(_savePersistenceForRedirect2=(0,asyncToGenerator.Z)(function*(auth){yield auth._initializationPromise;const session=getSessionStorageIfAvailable(),key=index_e0bc98c8.ax("persistence",auth.config.apiKey,auth.name);session&&session.setItem(key,auth._getPersistence())})).apply(this,arguments)}function _getPersistencesFromRedirect(apiKey,appName){const session=getSessionStorageIfAvailable();if(!session)return[];const key=index_e0bc98c8.ax("persistence",apiKey,appName);switch(session.getItem(key)){case Persistence.NONE:return[index_e0bc98c8.L];case Persistence.LOCAL:return[index_e0bc98c8.i,index_e0bc98c8.a];case Persistence.SESSION:return[index_e0bc98c8.a];default:return[]}}function getSessionStorageIfAvailable(){var _a;try{return(null===(_a=_getSelfWindow())||void 0===_a?void 0:_a.sessionStorage)||null}catch{return null}}__name(_validatePersistenceArgument,"_validatePersistenceArgument"),__name(_savePersistenceForRedirect,"_savePersistenceForRedirect"),__name(_savePersistenceForRedirect2,"_savePersistenceForRedirect2"),__name(_getPersistencesFromRedirect,"_getPersistencesFromRedirect"),__name(getSessionStorageIfAvailable,"getSessionStorageIfAvailable");const _assert$2=index_e0bc98c8.aq;class CompatPopupRedirectResolver{constructor(){this.browserResolver=index_e0bc98c8.ap(index_e0bc98c8.k),this.cordovaResolver=index_e0bc98c8.ap(cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=index_e0bc98c8.a,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}_initialize(auth){var _this=this;return(0,asyncToGenerator.Z)(function*(){return yield _this.selectUnderlyingResolver(),_this.assertedUnderlyingResolver._initialize(auth)})()}_openPopup(auth,provider,authType,eventId){var _this2=this;return(0,asyncToGenerator.Z)(function*(){return yield _this2.selectUnderlyingResolver(),_this2.assertedUnderlyingResolver._openPopup(auth,provider,authType,eventId)})()}_openRedirect(auth,provider,authType,eventId){var _this3=this;return(0,asyncToGenerator.Z)(function*(){return yield _this3.selectUnderlyingResolver(),_this3.assertedUnderlyingResolver._openRedirect(auth,provider,authType,eventId)})()}_isIframeWebStorageSupported(auth,cb){this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth,cb)}_originValidation(auth){return this.assertedUnderlyingResolver._originValidation(auth)}get _shouldInitProactively(){return _isLikelyCordova()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _assert$2(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _this4=this;return(0,asyncToGenerator.Z)(function*(){if(_this4.underlyingResolver)return;const isCordova=yield _isCordova();_this4.underlyingResolver=isCordova?_this4.cordovaResolver:_this4.browserResolver})()}}function unwrap(object){return object.unwrap()}function wrapped(object){return object.wrapped()}function credentialFromResponse(userCredential){return credentialFromObject(userCredential)}function attachExtraErrorFields(auth,e){var _a;const response=null===(_a=e.customData)||void 0===_a?void 0:_a._tokenResponse;if("auth/multi-factor-auth-required"===(null==e?void 0:e.code)){e.resolver=new MultiFactorResolver(auth,index_e0bc98c8.an(auth,e))}else if(response){const credential=credentialFromObject(e),credErr=e;credential&&(credErr.credential=credential,credErr.tenantId=response.tenantId||void 0,credErr.email=response.email||void 0,credErr.phoneNumber=response.phoneNumber||void 0)}}function credentialFromObject(object){const{_tokenResponse}=object instanceof index_node_esm.ZR?object.customData:object;if(!_tokenResponse)return null;if(!(object instanceof index_node_esm.ZR)&&"temporaryProof"in _tokenResponse&&"phoneNumber"in _tokenResponse)return index_e0bc98c8.P.credentialFromResult(object);const providerId=_tokenResponse.providerId;if(!providerId||providerId===index_e0bc98c8.o.PASSWORD)return null;let provider;switch(providerId){case index_e0bc98c8.o.GOOGLE:provider=index_e0bc98c8.Q;break;case index_e0bc98c8.o.FACEBOOK:provider=index_e0bc98c8.N;break;case index_e0bc98c8.o.GITHUB:provider=index_e0bc98c8.T;break;case index_e0bc98c8.o.TWITTER:provider=index_e0bc98c8.W;break;default:const{oauthIdToken,oauthAccessToken,oauthTokenSecret,pendingToken,nonce}=_tokenResponse;return oauthAccessToken||oauthTokenSecret||oauthIdToken||pendingToken?pendingToken?providerId.startsWith("saml.")?index_e0bc98c8.aP._create(providerId,pendingToken):index_e0bc98c8.J._fromParams({providerId,signInMethod:providerId,pendingToken,idToken:oauthIdToken,accessToken:oauthAccessToken}):new index_e0bc98c8.U(providerId).credential({idToken:oauthIdToken,accessToken:oauthAccessToken,rawNonce:nonce}):null}return object instanceof index_node_esm.ZR?provider.credentialFromError(object):provider.credentialFromResult(object)}function convertCredential(auth,credentialPromise){return credentialPromise.catch(e=>{throw e instanceof index_node_esm.ZR&&attachExtraErrorFields(auth,e),e}).then(credential=>{const operationType=credential.operationType,user=credential.user;return{operationType,credential:credentialFromResponse(credential),additionalUserInfo:index_e0bc98c8.al(credential),user:User.getOrCreate(user)}})}function convertConfirmationResult(_x2,_x3){return _convertConfirmationResult.apply(this,arguments)}function _convertConfirmationResult(){return(_convertConfirmationResult=(0,asyncToGenerator.Z)(function*(auth,confirmationResultPromise){const confirmationResultExp=yield confirmationResultPromise;return{verificationId:confirmationResultExp.verificationId,confirm:verificationCode=>convertCredential(auth,confirmationResultExp.confirm(verificationCode))}})).apply(this,arguments)}__name(CompatPopupRedirectResolver,"CompatPopupRedirectResolver"),__name(unwrap,"unwrap"),__name(wrapped,"wrapped"),__name(credentialFromResponse,"credentialFromResponse"),__name(attachExtraErrorFields,"attachExtraErrorFields"),__name(credentialFromObject,"credentialFromObject"),__name(convertCredential,"convertCredential"),__name(convertConfirmationResult,"convertConfirmationResult"),__name(_convertConfirmationResult,"_convertConfirmationResult");class MultiFactorResolver{constructor(auth,resolver){this.resolver=resolver,this.auth=wrapped(auth)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(assertion){return convertCredential(unwrap(this.auth),this.resolver.resolveSignIn(assertion))}}__name(MultiFactorResolver,"MultiFactorResolver");class User{constructor(_delegate){this._delegate=_delegate,this.multiFactor=index_e0bc98c8.ao(_delegate)}static getOrCreate(user){return User.USER_MAP.has(user)||User.USER_MAP.set(user,new User(user)),User.USER_MAP.get(user)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(forceRefresh){return this._delegate.getIdTokenResult(forceRefresh)}getIdToken(forceRefresh){return this._delegate.getIdToken(forceRefresh)}linkAndRetrieveDataWithCredential(credential){return this.linkWithCredential(credential)}linkWithCredential(credential){var _this5=this;return(0,asyncToGenerator.Z)(function*(){return convertCredential(_this5.auth,index_e0bc98c8.Z(_this5._delegate,credential))})()}linkWithPhoneNumber(phoneNumber,applicationVerifier){var _this6=this;return(0,asyncToGenerator.Z)(function*(){return convertConfirmationResult(_this6.auth,index_e0bc98c8.l(_this6._delegate,phoneNumber,applicationVerifier))})()}linkWithPopup(provider){var _this7=this;return(0,asyncToGenerator.Z)(function*(){return convertCredential(_this7.auth,index_e0bc98c8.d(_this7._delegate,provider,CompatPopupRedirectResolver))})()}linkWithRedirect(provider){var _this8=this;return(0,asyncToGenerator.Z)(function*(){return yield _savePersistenceForRedirect(index_e0bc98c8.ay(_this8.auth)),index_e0bc98c8.g(_this8._delegate,provider,CompatPopupRedirectResolver)})()}reauthenticateAndRetrieveDataWithCredential(credential){return this.reauthenticateWithCredential(credential)}reauthenticateWithCredential(credential){var _this9=this;return(0,asyncToGenerator.Z)(function*(){return convertCredential(_this9.auth,index_e0bc98c8._(_this9._delegate,credential))})()}reauthenticateWithPhoneNumber(phoneNumber,applicationVerifier){return convertConfirmationResult(this.auth,index_e0bc98c8.r(this._delegate,phoneNumber,applicationVerifier))}reauthenticateWithPopup(provider){return convertCredential(this.auth,index_e0bc98c8.e(this._delegate,provider,CompatPopupRedirectResolver))}reauthenticateWithRedirect(provider){var _this10=this;return(0,asyncToGenerator.Z)(function*(){return yield _savePersistenceForRedirect(index_e0bc98c8.ay(_this10.auth)),index_e0bc98c8.h(_this10._delegate,provider,CompatPopupRedirectResolver)})()}sendEmailVerification(actionCodeSettings){return index_e0bc98c8.ab(this._delegate,actionCodeSettings)}unlink(providerId){var _this11=this;return(0,asyncToGenerator.Z)(function*(){return yield index_e0bc98c8.ak(_this11._delegate,providerId),_this11})()}updateEmail(newEmail){return index_e0bc98c8.ag(this._delegate,newEmail)}updatePassword(newPassword){return index_e0bc98c8.ah(this._delegate,newPassword)}updatePhoneNumber(phoneCredential){return index_e0bc98c8.u(this._delegate,phoneCredential)}updateProfile(profile){return index_e0bc98c8.af(this._delegate,profile)}verifyBeforeUpdateEmail(newEmail,actionCodeSettings){return index_e0bc98c8.ac(this._delegate,newEmail,actionCodeSettings)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}__name(User,"User"),User.USER_MAP=new WeakMap;const _assert$1=index_e0bc98c8.aq;class Auth{constructor(app,provider){if(this.app=app,provider.isInitialized())return this._delegate=provider.getImmediate(),void this.linkUnderlyingAuth();const{apiKey}=app.options;_assert$1(apiKey,"invalid-api-key",{appName:app.name}),_assert$1(apiKey,"invalid-api-key",{appName:app.name});const resolver=typeof window<"u"?CompatPopupRedirectResolver:void 0;this._delegate=provider.initialize({options:{persistence:buildPersistenceHierarchy(apiKey,app.name),popupRedirectResolver:resolver}}),this._delegate._updateErrorMap(index_e0bc98c8.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?User.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(languageCode){this._delegate.languageCode=languageCode}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(tid){this._delegate.tenantId=tid}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(url,options){index_e0bc98c8.G(this._delegate,url,options)}applyActionCode(code){return index_e0bc98c8.a2(this._delegate,code)}checkActionCode(code){return index_e0bc98c8.a3(this._delegate,code)}confirmPasswordReset(code,newPassword){return index_e0bc98c8.a1(this._delegate,code,newPassword)}createUserWithEmailAndPassword(email,password){var _this12=this;return(0,asyncToGenerator.Z)(function*(){return convertCredential(_this12._delegate,index_e0bc98c8.a5(_this12._delegate,email,password))})()}fetchProvidersForEmail(email){return this.fetchSignInMethodsForEmail(email)}fetchSignInMethodsForEmail(email){return index_e0bc98c8.aa(this._delegate,email)}isSignInWithEmailLink(emailLink){return index_e0bc98c8.a8(this._delegate,emailLink)}getRedirectResult(){var _this13=this;return(0,asyncToGenerator.Z)(function*(){_assert$1(_isPopupRedirectSupported(),_this13._delegate,"operation-not-supported-in-this-environment");const credential=yield index_e0bc98c8.j(_this13._delegate,CompatPopupRedirectResolver);return credential?convertCredential(_this13._delegate,Promise.resolve(credential)):{credential:null,user:null}})()}addFrameworkForLogging(framework){addFrameworkForLogging(this._delegate,framework)}onAuthStateChanged(nextOrObserver,errorFn,completed){const{next,error,complete}=wrapObservers(nextOrObserver,errorFn,completed);return this._delegate.onAuthStateChanged(next,error,complete)}onIdTokenChanged(nextOrObserver,errorFn,completed){const{next,error,complete}=wrapObservers(nextOrObserver,errorFn,completed);return this._delegate.onIdTokenChanged(next,error,complete)}sendSignInLinkToEmail(email,actionCodeSettings){return index_e0bc98c8.a7(this._delegate,email,actionCodeSettings)}sendPasswordResetEmail(email,actionCodeSettings){return index_e0bc98c8.a0(this._delegate,email,actionCodeSettings||void 0)}setPersistence(persistence){var _this14=this;return(0,asyncToGenerator.Z)(function*(){let converted;switch(_validatePersistenceArgument(_this14._delegate,persistence),persistence){case Persistence.SESSION:converted=index_e0bc98c8.a;break;case Persistence.LOCAL:converted=(yield index_e0bc98c8.ap(index_e0bc98c8.i)._isAvailable())?index_e0bc98c8.i:index_e0bc98c8.b;break;case Persistence.NONE:converted=index_e0bc98c8.L;break;default:return index_e0bc98c8.av("argument-error",{appName:_this14._delegate.name})}return _this14._delegate.setPersistence(converted)})()}signInAndRetrieveDataWithCredential(credential){return this.signInWithCredential(credential)}signInAnonymously(){return convertCredential(this._delegate,index_e0bc98c8.X(this._delegate))}signInWithCredential(credential){return convertCredential(this._delegate,index_e0bc98c8.Y(this._delegate,credential))}signInWithCustomToken(token){return convertCredential(this._delegate,index_e0bc98c8.$(this._delegate,token))}signInWithEmailAndPassword(email,password){return convertCredential(this._delegate,index_e0bc98c8.a6(this._delegate,email,password))}signInWithEmailLink(email,emailLink){return convertCredential(this._delegate,index_e0bc98c8.a9(this._delegate,email,emailLink))}signInWithPhoneNumber(phoneNumber,applicationVerifier){return convertConfirmationResult(this._delegate,index_e0bc98c8.s(this._delegate,phoneNumber,applicationVerifier))}signInWithPopup(provider){var _this15=this;return(0,asyncToGenerator.Z)(function*(){return _assert$1(_isPopupRedirectSupported(),_this15._delegate,"operation-not-supported-in-this-environment"),convertCredential(_this15._delegate,index_e0bc98c8.c(_this15._delegate,provider,CompatPopupRedirectResolver))})()}signInWithRedirect(provider){var _this16=this;return(0,asyncToGenerator.Z)(function*(){return _assert$1(_isPopupRedirectSupported(),_this16._delegate,"operation-not-supported-in-this-environment"),yield _savePersistenceForRedirect(_this16._delegate),index_e0bc98c8.f(_this16._delegate,provider,CompatPopupRedirectResolver)})()}updateCurrentUser(user){return this._delegate.updateCurrentUser(user)}verifyPasswordResetCode(code){return index_e0bc98c8.a4(this._delegate,code)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function wrapObservers(nextOrObserver,error,complete){let next=nextOrObserver;"function"!=typeof nextOrObserver&&({next,error,complete}=nextOrObserver);const oldNext=next;return{next:__name(user=>oldNext(user&&User.getOrCreate(user)),"newNext"),error,complete}}function buildPersistenceHierarchy(apiKey,appName){const persistences=_getPersistencesFromRedirect(apiKey,appName);if(typeof self<"u"&&!persistences.includes(index_e0bc98c8.i)&&persistences.push(index_e0bc98c8.i),typeof window<"u")for(const persistence of[index_e0bc98c8.b,index_e0bc98c8.a])persistences.includes(persistence)||persistences.push(persistence);return persistences.includes(index_e0bc98c8.L)||persistences.push(index_e0bc98c8.L),persistences}__name(Auth,"Auth"),Auth.Persistence=Persistence,__name(wrapObservers,"wrapObservers"),__name(buildPersistenceHierarchy,"buildPersistenceHierarchy");class PhoneAuthProvider{constructor(){this.providerId="phone",this._delegate=new index_e0bc98c8.P(unwrap(index_esm2017.Z.auth()))}static credential(verificationId,verificationCode){return index_e0bc98c8.P.credential(verificationId,verificationCode)}verifyPhoneNumber(phoneInfoOptions,applicationVerifier){return this._delegate.verifyPhoneNumber(phoneInfoOptions,applicationVerifier)}unwrap(){return this._delegate}}__name(PhoneAuthProvider,"PhoneAuthProvider"),PhoneAuthProvider.PHONE_SIGN_IN_METHOD=index_e0bc98c8.P.PHONE_SIGN_IN_METHOD,PhoneAuthProvider.PROVIDER_ID=index_e0bc98c8.P.PROVIDER_ID;const _assert=index_e0bc98c8.aq;class RecaptchaVerifier{constructor(container,parameters,app=index_esm2017.Z.app()){var _a;_assert(null===(_a=app.options)||void 0===_a?void 0:_a.apiKey,"invalid-api-key",{appName:app.name}),this._delegate=new index_e0bc98c8.R(container,parameters,app.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}__name(RecaptchaVerifier,"RecaptchaVerifier");function registerAuthCompat(instance){instance.INTERNAL.registerComponent(new component_dist_esm_index_esm2017.wA("auth-compat",container=>{const app=container.getProvider("app-compat").getImmediate(),authProvider=container.getProvider("auth");return new Auth(app,authProvider)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:index_e0bc98c8.A.EMAIL_SIGNIN,PASSWORD_RESET:index_e0bc98c8.A.PASSWORD_RESET,RECOVER_EMAIL:index_e0bc98c8.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:index_e0bc98c8.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:index_e0bc98c8.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:index_e0bc98c8.A.VERIFY_EMAIL}},EmailAuthProvider:index_e0bc98c8.M,FacebookAuthProvider:index_e0bc98c8.N,GithubAuthProvider:index_e0bc98c8.T,GoogleAuthProvider:index_e0bc98c8.Q,OAuthProvider:index_e0bc98c8.U,SAMLAuthProvider:index_e0bc98c8.V,PhoneAuthProvider,PhoneMultiFactorGenerator:index_e0bc98c8.m,RecaptchaVerifier,TwitterAuthProvider:index_e0bc98c8.W,Auth,AuthCredential:index_e0bc98c8.H,Error:index_node_esm.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),instance.registerVersion("@firebase/auth-compat","0.3.0")}__name(registerAuthCompat,"registerAuthCompat"),registerAuthCompat(index_esm2017.Z),index_e0bc98c8.aO.initialize(lib.ZP,lib.PM,lib.HM)}};